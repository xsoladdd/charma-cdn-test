import{E as e,g as t,f as n}from"./p-80672267.js";class r extends Error{constructor(e,t,n){const r=e.status||e.status===0?e.status:"";const i=e.statusText||"";const s=`${r} ${i}`.trim();const a=s?`status code ${s}`:"an unknown error";super(`Request failed with ${a}`);Object.defineProperty(this,"response",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"request",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"options",{enumerable:true,configurable:true,writable:true,value:void 0});this.name="HTTPError";this.response=e;this.request=t;this.options=n}}class i extends Error{constructor(e){super("Request timed out");Object.defineProperty(this,"request",{enumerable:true,configurable:true,writable:true,value:void 0});this.name="TimeoutError";this.request=e}}const s=e=>e!==null&&typeof e==="object";const a=(...e)=>{for(const t of e){if((!s(t)||Array.isArray(t))&&typeof t!=="undefined"){throw new TypeError("The `options` argument must be an object")}}return u({},...e)};const o=(e={},t={})=>{const n=new globalThis.Headers(e);const r=t instanceof globalThis.Headers;const i=new globalThis.Headers(t);for(const[e,t]of i.entries()){if(r&&t==="undefined"||t===undefined){n.delete(e)}else{n.set(e,t)}}return n};const u=(...e)=>{let t={};let n={};for(const r of e){if(Array.isArray(r)){if(!Array.isArray(t)){t=[]}t=[...t,...r]}else if(s(r)){for(let[e,n]of Object.entries(r)){if(s(n)&&e in t){n=u(t[e],n)}t={...t,[e]:n}}if(s(r.headers)){n=o(n,r.headers);t.headers=n}}}return t};const f=(()=>{let e=false;let t=false;const n=typeof globalThis.ReadableStream==="function";const r=typeof globalThis.Request==="function";if(n&&r){t=new globalThis.Request("https://a.com",{body:new globalThis.ReadableStream,method:"POST",get duplex(){e=true;return"half"}}).headers.has("Content-Type")}return e&&!t})();const c=typeof globalThis.AbortController==="function";const l=typeof globalThis.ReadableStream==="function";const h=typeof globalThis.FormData==="function";const d=["get","post","put","patch","head","delete"];const v={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"};const p=2147483647;const m=Symbol("stop");const y=e=>d.includes(e)?e.toUpperCase():e;const g=["get","put","head","delete","options","trace"];const b=[408,413,429,500,502,503,504];const w=[413,429,503];const k={limit:2,methods:g,statusCodes:b,afterStatusCodes:w,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY};const x=(e={})=>{if(typeof e==="number"){return{...k,limit:e}}if(e.methods&&!Array.isArray(e.methods)){throw new Error("retry.methods must be an array")}if(e.statusCodes&&!Array.isArray(e.statusCodes)){throw new Error("retry.statusCodes must be an array")}return{...k,...e,afterStatusCodes:w}};async function j(e,t,n){return new Promise(((r,s)=>{const a=setTimeout((()=>{if(t){t.abort()}s(new i(e))}),n.timeout);void n.fetch(e).then(r).catch(s).then((()=>{clearTimeout(a)}))}))}const O=Boolean(globalThis.DOMException);function N(e){if(O){return new DOMException(e?.reason??"The operation was aborted.","AbortError")}const t=new Error(e?.reason??"The operation was aborted.");t.name="AbortError";return t}async function E(e,{signal:t}){return new Promise(((n,r)=>{if(t){if(t.aborted){r(N(t));return}t.addEventListener("abort",i,{once:true})}function i(){r(N(t));clearTimeout(s)}const s=setTimeout((()=>{t?.removeEventListener("abort",i);n()}),e)}))}class T{static create(e,t){const n=new T(e,t);const i=async()=>{if(n._options.timeout>p){throw new RangeError(`The \`timeout\` option cannot be greater than ${p}`)}await Promise.resolve();let e=await n._fetch();for(const t of n._options.hooks.afterResponse){const r=await t(n.request,n._options,n._decorateResponse(e.clone()));if(r instanceof globalThis.Response){e=r}}n._decorateResponse(e);if(!e.ok&&n._options.throwHttpErrors){let t=new r(e,n.request,n._options);for(const e of n._options.hooks.beforeError){t=await e(t)}throw t}if(n._options.onDownloadProgress){if(typeof n._options.onDownloadProgress!=="function"){throw new TypeError("The `onDownloadProgress` option must be a function")}if(!l){throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.")}return n._stream(e.clone(),n._options.onDownloadProgress)}return e};const s=n._options.retry.methods.includes(n.request.method.toLowerCase());const a=s?n._retry(i):i();for(const[e,r]of Object.entries(v)){a[e]=async()=>{n.request.headers.set("accept",n.request.headers.get("accept")||r);const i=await a;const s=i.clone();if(e==="json"){if(s.status===204){return""}const e=await s.clone().arrayBuffer();const n=e.byteLength;if(n===0){return""}if(t.parseJson){return t.parseJson(await s.text())}}return s[e]()}}return a}constructor(e,t={}){Object.defineProperty(this,"request",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"abortController",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_retryCount",{enumerable:true,configurable:true,writable:true,value:0});Object.defineProperty(this,"_input",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_options",{enumerable:true,configurable:true,writable:true,value:void 0});this._input=e;this._options={credentials:this._input.credentials||"same-origin",...t,headers:o(this._input.headers,t.headers),hooks:u({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:y(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:x(t.retry),throwHttpErrors:t.throwHttpErrors!==false,timeout:typeof t.timeout==="undefined"?1e4:t.timeout,fetch:t.fetch??globalThis.fetch.bind(globalThis)};if(typeof this._input!=="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request)){throw new TypeError("`input` must be a string, URL, or Request")}if(this._options.prefixUrl&&typeof this._input==="string"){if(this._input.startsWith("/")){throw new Error("`input` must not begin with a slash when using `prefixUrl`")}if(!this._options.prefixUrl.endsWith("/")){this._options.prefixUrl+="/"}this._input=this._options.prefixUrl+this._input}if(c){this.abortController=new globalThis.AbortController;if(this._options.signal){const e=this._options.signal;this._options.signal.addEventListener("abort",(()=>{this.abortController.abort(e.reason)}))}this._options.signal=this.abortController.signal}if(f){this._options.duplex="half"}this.request=new globalThis.Request(this._input,this._options);if(this._options.searchParams){const e=typeof this._options.searchParams==="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString();const t="?"+e;const n=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,t);if((h&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])){this.request.headers.delete("content-type")}this.request=new globalThis.Request(new globalThis.Request(n,{...this.request}),this._options)}if(this._options.json!==undefined){this._options.body=JSON.stringify(this._options.json);this.request.headers.set("content-type",this._options.headers.get("content-type")??"application/json");this.request=new globalThis.Request(this.request,{body:this._options.body})}}_calculateRetryDelay(e){this._retryCount++;if(this._retryCount<this._options.retry.limit&&!(e instanceof i)){if(e instanceof r){if(!this._options.retry.statusCodes.includes(e.response.status)){return 0}const t=e.response.headers.get("Retry-After");if(t&&this._options.retry.afterStatusCodes.includes(e.response.status)){let e=Number(t);if(Number.isNaN(e)){e=Date.parse(t)-Date.now()}else{e*=1e3}if(typeof this._options.retry.maxRetryAfter!=="undefined"&&e>this._options.retry.maxRetryAfter){return 0}return e}if(e.response.status===413){return 0}}const t=.3;return Math.min(this._options.retry.backoffLimit,t*2**(this._retryCount-1)*1e3)}return 0}_decorateResponse(e){if(this._options.parseJson){e.json=async()=>this._options.parseJson(await e.text())}return e}async _retry(e){try{return await e()}catch(t){const n=Math.min(this._calculateRetryDelay(t),p);if(n!==0&&this._retryCount>0){await E(n,{signal:this._options.signal});for(const e of this._options.hooks.beforeRetry){const n=await e({request:this.request,options:this._options,error:t,retryCount:this._retryCount});if(n===m){return}}return this._retry(e)}throw t}}async _fetch(){for(const e of this._options.hooks.beforeRequest){const t=await e(this.request,this._options);if(t instanceof Request){this.request=t;break}if(t instanceof Response){return t}}if(this._options.timeout===false){return this._options.fetch(this.request.clone())}return j(this.request.clone(),this.abortController,this._options)}_stream(e,t){const n=Number(e.headers.get("content-length"))||0;let r=0;if(e.status===204){if(t){t({percent:1,totalBytes:n,transferredBytes:r},new Uint8Array)}return new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})}return new globalThis.Response(new globalThis.ReadableStream({async start(i){const s=e.body.getReader();if(t){t({percent:0,transferredBytes:0,totalBytes:n},new Uint8Array)}async function a(){const{done:e,value:o}=await s.read();if(e){i.close();return}if(t){r+=o.byteLength;const e=n===0?0:r/n;t({percent:e,transferredBytes:r,totalBytes:n},o)}i.enqueue(o);await a()}await a()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}}
/*! MIT License Â© Sindre Sorhus */const _=e=>{const t=(t,n)=>T.create(t,a(e,n));for(const n of d){t[n]=(t,r)=>T.create(t,a(e,r,{method:n}))}t.create=e=>_(a(e));t.extend=t=>_(a(e,t));t.stop=m;return t};const P=_();var S;(function(e){e.assertEqual=e=>e;function t(e){}e.assertIs=t;function n(e){throw new Error}e.assertNever=n;e.arrayToEnum=e=>{const t={};for(const n of e){t[n]=n}return t};e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>typeof t[t[e]]!=="number"));const r={};for(const e of n){r[e]=t[e]}return e.objectValues(r)};e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]}));e.objectKeys=typeof Object.keys==="function"?e=>Object.keys(e):e=>{const t=[];for(const n in e){if(Object.prototype.hasOwnProperty.call(e,n)){t.push(n)}}return t};e.find=(e,t)=>{for(const n of e){if(t(n))return n}return undefined};e.isInteger=typeof Number.isInteger==="function"?e=>Number.isInteger(e):e=>typeof e==="number"&&isFinite(e)&&Math.floor(e)===e;function r(e,t=" | "){return e.map((e=>typeof e==="string"?`'${e}'`:e)).join(t)}e.joinValues=r;e.jsonStringifyReplacer=(e,t)=>{if(typeof t==="bigint"){return t.toString()}return t}})(S||(S={}));var R;(function(e){e.mergeShapes=(e,t)=>({...e,...t})})(R||(R={}));const Z=S.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const I=e=>{const t=typeof e;switch(t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(e)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":if(Array.isArray(e)){return Z.array}if(e===null){return Z.null}if(e.then&&typeof e.then==="function"&&e.catch&&typeof e.catch==="function"){return Z.promise}if(typeof Map!=="undefined"&&e instanceof Map){return Z.map}if(typeof Set!=="undefined"&&e instanceof Set){return Z.set}if(typeof Date!=="undefined"&&e instanceof Date){return Z.date}return Z.object;default:return Z.unknown}};const A=S.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const $=e=>{const t=JSON.stringify(e,null,2);return t.replace(/"([^"]+)":/g,"$1:")};class C extends Error{constructor(e){super();this.issues=[];this.addIssue=e=>{this.issues=[...this.issues,e]};this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;if(Object.setPrototypeOf){Object.setPrototypeOf(this,t)}else{this.__proto__=t}this.name="ZodError";this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message};const n={_errors:[]};const r=e=>{for(const i of e.issues){if(i.code==="invalid_union"){i.unionErrors.map(r)}else if(i.code==="invalid_return_type"){r(i.returnTypeError)}else if(i.code==="invalid_arguments"){r(i.argumentsError)}else if(i.path.length===0){n._errors.push(t(i))}else{let e=n;let r=0;while(r<i.path.length){const n=i.path[r];const s=r===i.path.length-1;if(!s){e[n]=e[n]||{_errors:[]}}else{e[n]=e[n]||{_errors:[]};e[n]._errors.push(t(i))}e=e[n];r++}}}};r(this);return n}toString(){return this.message}get message(){return JSON.stringify(this.issues,S.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=(e=>e.message)){const t={};const n=[];for(const r of this.issues){if(r.path.length>0){t[r.path[0]]=t[r.path[0]]||[];t[r.path[0]].push(e(r))}else{n.push(e(r))}}return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}C.create=e=>{const t=new C(e);return t};const L=(e,t)=>{let n;switch(e.code){case A.invalid_type:if(e.received===Z.undefined){n="Required"}else{n=`Expected ${e.expected}, received ${e.received}`}break;case A.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,S.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:n=`Unrecognized key(s) in object: ${S.joinValues(e.keys,", ")}`;break;case A.invalid_union:n=`Invalid input`;break;case A.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${S.joinValues(e.options)}`;break;case A.invalid_enum_value:n=`Invalid enum value. Expected ${S.joinValues(e.options)}, received '${e.received}'`;break;case A.invalid_arguments:n=`Invalid function arguments`;break;case A.invalid_return_type:n=`Invalid function return type`;break;case A.invalid_date:n=`Invalid date`;break;case A.invalid_string:if(typeof e.validation==="object"){if("includes"in e.validation){n=`Invalid input: must include "${e.validation.includes}"`;if(typeof e.validation.position==="number"){n=`${n} at one or more positions greater than or equal to ${e.validation.position}`}}else if("startsWith"in e.validation){n=`Invalid input: must start with "${e.validation.startsWith}"`}else if("endsWith"in e.validation){n=`Invalid input: must end with "${e.validation.endsWith}"`}else{S.assertNever(e.validation)}}else if(e.validation!=="regex"){n=`Invalid ${e.validation}`}else{n="Invalid"}break;case A.too_small:if(e.type==="array")n=`Array must contain ${e.exact?"exactly":e.inclusive?`at least`:`more than`} ${e.minimum} element(s)`;else if(e.type==="string")n=`String must contain ${e.exact?"exactly":e.inclusive?`at least`:`over`} ${e.minimum} character(s)`;else if(e.type==="number")n=`Number must be ${e.exact?`exactly equal to `:e.inclusive?`greater than or equal to `:`greater than `}${e.minimum}`;else if(e.type==="date")n=`Date must be ${e.exact?`exactly equal to `:e.inclusive?`greater than or equal to `:`greater than `}${new Date(Number(e.minimum))}`;else n="Invalid input";break;case A.too_big:if(e.type==="array")n=`Array must contain ${e.exact?`exactly`:e.inclusive?`at most`:`less than`} ${e.maximum} element(s)`;else if(e.type==="string")n=`String must contain ${e.exact?`exactly`:e.inclusive?`at most`:`under`} ${e.maximum} character(s)`;else if(e.type==="number")n=`Number must be ${e.exact?`exactly`:e.inclusive?`less than or equal to`:`less than`} ${e.maximum}`;else if(e.type==="bigint")n=`BigInt must be ${e.exact?`exactly`:e.inclusive?`less than or equal to`:`less than`} ${e.maximum}`;else if(e.type==="date")n=`Date must be ${e.exact?`exactly`:e.inclusive?`smaller than or equal to`:`smaller than`} ${new Date(Number(e.maximum))}`;else n="Invalid input";break;case A.custom:n=`Invalid input`;break;case A.invalid_intersection_types:n=`Intersection results could not be merged`;break;case A.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case A.not_finite:n="Number must be finite";break;default:n=t.defaultError;S.assertNever(e)}return{message:n}};let D=L;function M(e){D=e}function B(){return D}const q=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e;const s=[...n,...i.path||[]];const a={...i,path:s};let o="";const u=r.filter((e=>!!e)).slice().reverse();for(const e of u){o=e(a,{data:t,defaultError:o}).message}return{...i,path:s,message:i.message||o}};const U=[];function z(e,t){const n=q({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,B(),L].filter((e=>!!e))});e.common.issues.push(n)}class K{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(e,t){const n=[];for(const r of t){if(r.status==="aborted")return V;if(r.status==="dirty")e.dirty();n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){n.push({key:await e.key,value:await e.value})}return K.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if(t.status==="aborted")return V;if(i.status==="aborted")return V;if(t.status==="dirty")e.dirty();if(i.status==="dirty")e.dirty();if(typeof i.value!=="undefined"||r.alwaysSet){n[t.value]=i.value}}return{status:e.value,value:n}}}const V=Object.freeze({status:"aborted"});const F=e=>({status:"dirty",value:e});const H=e=>({status:"valid",value:e});const W=e=>e.status==="aborted";const J=e=>e.status==="dirty";const Y=e=>e.status==="valid";const G=e=>typeof Promise!=="undefined"&&e instanceof Promise;var Q;(function(e){e.errToObj=e=>typeof e==="string"?{message:e}:e||{};e.toString=e=>typeof e==="string"?e:e===null||e===void 0?void 0:e.message})(Q||(Q={}));class X{constructor(e,t,n,r){this._cachedPath=[];this.parent=e;this.data=t;this._path=n;this._key=r}get path(){if(!this._cachedPath.length){if(this._key instanceof Array){this._cachedPath.push(...this._path,...this._key)}else{this._cachedPath.push(...this._path,this._key)}}return this._cachedPath}}const ee=(e,t)=>{if(Y(t)){return{success:true,data:t.value}}else{if(!e.common.issues.length){throw new Error("Validation failed but no issues detected.")}return{success:false,get error(){if(this._error)return this._error;const t=new C(e.common.issues);this._error=t;return this._error}}}};function te(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r)){throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`)}if(t)return{errorMap:t,description:i};const s=(e,t)=>{if(e.code!=="invalid_type")return{message:t.defaultError};if(typeof t.data==="undefined"){return{message:r!==null&&r!==void 0?r:t.defaultError}}return{message:n!==null&&n!==void 0?n:t.defaultError}};return{errorMap:s,description:i}}class ne{constructor(e){this.spa=this.safeParseAsync;this._def=e;this.parse=this.parse.bind(this);this.safeParse=this.safeParse.bind(this);this.parseAsync=this.parseAsync.bind(this);this.safeParseAsync=this.safeParseAsync.bind(this);this.spa=this.spa.bind(this);this.refine=this.refine.bind(this);this.refinement=this.refinement.bind(this);this.superRefine=this.superRefine.bind(this);this.optional=this.optional.bind(this);this.nullable=this.nullable.bind(this);this.nullish=this.nullish.bind(this);this.array=this.array.bind(this);this.promise=this.promise.bind(this);this.or=this.or.bind(this);this.and=this.and.bind(this);this.transform=this.transform.bind(this);this.brand=this.brand.bind(this);this.default=this.default.bind(this);this.catch=this.catch.bind(this);this.describe=this.describe.bind(this);this.pipe=this.pipe.bind(this);this.isNullable=this.isNullable.bind(this);this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return I(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:I(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new K,ctx:{common:e.parent.common,data:e.data,parsedType:I(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(G(t)){throw new Error("Synchronous parse encountered promise.")}return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:(n=t===null||t===void 0?void 0:t.async)!==null&&n!==void 0?n:false,contextualErrorMap:t===null||t===void 0?void 0:t.errorMap},path:(t===null||t===void 0?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:I(e)};const i=this._parseSync({data:e,path:r.path,parent:r});return ee(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t===null||t===void 0?void 0:t.errorMap,async:true},path:(t===null||t===void 0?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:I(e)};const r=this._parse({data:e,path:n.path,parent:n});const i=await(G(r)?r:Promise.resolve(r));return ee(n,i)}refine(e,t){const n=e=>{if(typeof t==="string"||typeof t==="undefined"){return{message:t}}else if(typeof t==="function"){return t(e)}else{return t}};return this._refinement(((t,r)=>{const i=e(t);const s=()=>r.addIssue({code:A.custom,...n(t)});if(typeof Promise!=="undefined"&&i instanceof Promise){return i.then((e=>{if(!e){s();return false}else{return true}}))}if(!i){s();return false}else{return true}}))}refinement(e,t){return this._refinement(((n,r)=>{if(!e(n)){r.addIssue(typeof t==="function"?t(n,r):t);return false}else{return true}}))}_refinement(e){return new Ve({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Fe.create(this,this._def)}nullable(){return He.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ee.create(this,this._def)}promise(){return Ke.create(this,this._def)}or(e){return Pe.create([this,e],this._def)}and(e){return Ie.create(this,e,this._def)}transform(e){return new Ve({...te(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e==="function"?e:()=>e;return new We({...te(this._def),innerType:this,defaultValue:t,typeName:nt.ZodDefault})}brand(){return new Qe({typeName:nt.ZodBranded,type:this,...te(this._def)})}catch(e){const t=typeof e==="function"?e:()=>e;return new Je({...te(this._def),innerType:this,catchValue:t,typeName:nt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Xe.create(this,e)}isOptional(){return this.safeParse(undefined).success}isNullable(){return this.safeParse(null).success}}const re=/^c[^\s-]{8,}$/i;const ie=/^[a-z][a-z0-9]*$/;const se=/[0-9A-HJKMNP-TV-Z]{26}/;const ae=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;const oe=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/;const ue=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u;const fe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/;const ce=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;const le=e=>{if(e.precision){if(e.offset){return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`)}else{return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`)}}else if(e.precision===0){if(e.offset){return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$`)}else{return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$`)}}else{if(e.offset){return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$`)}else{return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$`)}}};function he(e,t){if((t==="v4"||!t)&&fe.test(e)){return true}if((t==="v6"||!t)&&ce.test(e)){return true}return false}class de extends ne{constructor(){super(...arguments);this._regex=(e,t,n)=>this.refinement((t=>e.test(t)),{validation:t,code:A.invalid_string,...Q.errToObj(n)});this.nonempty=e=>this.min(1,Q.errToObj(e));this.trim=()=>new de({...this._def,checks:[...this._def.checks,{kind:"trim"}]});this.toLowerCase=()=>new de({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]});this.toUpperCase=()=>new de({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce){e.data=String(e.data)}const t=this._getType(e);if(t!==Z.string){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.string,received:t.parsedType});return V}const n=new K;let r=undefined;for(const t of this._def.checks){if(t.kind==="min"){if(e.data.length<t.value){r=this._getOrReturnCtx(e,r);z(r,{code:A.too_small,minimum:t.value,type:"string",inclusive:true,exact:false,message:t.message});n.dirty()}}else if(t.kind==="max"){if(e.data.length>t.value){r=this._getOrReturnCtx(e,r);z(r,{code:A.too_big,maximum:t.value,type:"string",inclusive:true,exact:false,message:t.message});n.dirty()}}else if(t.kind==="length"){const i=e.data.length>t.value;const s=e.data.length<t.value;if(i||s){r=this._getOrReturnCtx(e,r);if(i){z(r,{code:A.too_big,maximum:t.value,type:"string",inclusive:true,exact:true,message:t.message})}else if(s){z(r,{code:A.too_small,minimum:t.value,type:"string",inclusive:true,exact:true,message:t.message})}n.dirty()}}else if(t.kind==="email"){if(!oe.test(e.data)){r=this._getOrReturnCtx(e,r);z(r,{validation:"email",code:A.invalid_string,message:t.message});n.dirty()}}else if(t.kind==="emoji"){if(!ue.test(e.data)){r=this._getOrReturnCtx(e,r);z(r,{validation:"emoji",code:A.invalid_string,message:t.message});n.dirty()}}else if(t.kind==="uuid"){if(!ae.test(e.data)){r=this._getOrReturnCtx(e,r);z(r,{validation:"uuid",code:A.invalid_string,message:t.message});n.dirty()}}else if(t.kind==="cuid"){if(!re.test(e.data)){r=this._getOrReturnCtx(e,r);z(r,{validation:"cuid",code:A.invalid_string,message:t.message});n.dirty()}}else if(t.kind==="cuid2"){if(!ie.test(e.data)){r=this._getOrReturnCtx(e,r);z(r,{validation:"cuid2",code:A.invalid_string,message:t.message});n.dirty()}}else if(t.kind==="ulid"){if(!se.test(e.data)){r=this._getOrReturnCtx(e,r);z(r,{validation:"ulid",code:A.invalid_string,message:t.message});n.dirty()}}else if(t.kind==="url"){try{new URL(e.data)}catch(i){r=this._getOrReturnCtx(e,r);z(r,{validation:"url",code:A.invalid_string,message:t.message});n.dirty()}}else if(t.kind==="regex"){t.regex.lastIndex=0;const i=t.regex.test(e.data);if(!i){r=this._getOrReturnCtx(e,r);z(r,{validation:"regex",code:A.invalid_string,message:t.message});n.dirty()}}else if(t.kind==="trim"){e.data=e.data.trim()}else if(t.kind==="includes"){if(!e.data.includes(t.value,t.position)){r=this._getOrReturnCtx(e,r);z(r,{code:A.invalid_string,validation:{includes:t.value,position:t.position},message:t.message});n.dirty()}}else if(t.kind==="toLowerCase"){e.data=e.data.toLowerCase()}else if(t.kind==="toUpperCase"){e.data=e.data.toUpperCase()}else if(t.kind==="startsWith"){if(!e.data.startsWith(t.value)){r=this._getOrReturnCtx(e,r);z(r,{code:A.invalid_string,validation:{startsWith:t.value},message:t.message});n.dirty()}}else if(t.kind==="endsWith"){if(!e.data.endsWith(t.value)){r=this._getOrReturnCtx(e,r);z(r,{code:A.invalid_string,validation:{endsWith:t.value},message:t.message});n.dirty()}}else if(t.kind==="datetime"){const i=le(t);if(!i.test(e.data)){r=this._getOrReturnCtx(e,r);z(r,{code:A.invalid_string,validation:"datetime",message:t.message});n.dirty()}}else if(t.kind==="ip"){if(!he(e.data,t.version)){r=this._getOrReturnCtx(e,r);z(r,{validation:"ip",code:A.invalid_string,message:t.message});n.dirty()}}else{S.assertNever(t)}}return{status:n.value,value:e.data}}_addCheck(e){return new de({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Q.errToObj(e)})}datetime(e){var t;if(typeof e==="string"){return this._addCheck({kind:"datetime",precision:null,offset:false,message:e})}return this._addCheck({kind:"datetime",precision:typeof(e===null||e===void 0?void 0:e.precision)==="undefined"?null:e===null||e===void 0?void 0:e.precision,offset:(t=e===null||e===void 0?void 0:e.offset)!==null&&t!==void 0?t:false,...Q.errToObj(e===null||e===void 0?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Q.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t===null||t===void 0?void 0:t.position,...Q.errToObj(t===null||t===void 0?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Q.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Q.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Q.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Q.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Q.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>e.kind==="datetime"))}get isEmail(){return!!this._def.checks.find((e=>e.kind==="email"))}get isURL(){return!!this._def.checks.find((e=>e.kind==="url"))}get isEmoji(){return!!this._def.checks.find((e=>e.kind==="emoji"))}get isUUID(){return!!this._def.checks.find((e=>e.kind==="uuid"))}get isCUID(){return!!this._def.checks.find((e=>e.kind==="cuid"))}get isCUID2(){return!!this._def.checks.find((e=>e.kind==="cuid2"))}get isULID(){return!!this._def.checks.find((e=>e.kind==="ulid"))}get isIP(){return!!this._def.checks.find((e=>e.kind==="ip"))}get minLength(){let e=null;for(const t of this._def.checks){if(t.kind==="min"){if(e===null||t.value>e)e=t.value}}return e}get maxLength(){let e=null;for(const t of this._def.checks){if(t.kind==="max"){if(e===null||t.value<e)e=t.value}}return e}}de.create=e=>{var t;return new de({checks:[],typeName:nt.ZodString,coerce:(t=e===null||e===void 0?void 0:e.coerce)!==null&&t!==void 0?t:false,...te(e)})};function ve(e,t){const n=(e.toString().split(".")[1]||"").length;const r=(t.toString().split(".")[1]||"").length;const i=n>r?n:r;const s=parseInt(e.toFixed(i).replace(".",""));const a=parseInt(t.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class pe extends ne{constructor(){super(...arguments);this.min=this.gte;this.max=this.lte;this.step=this.multipleOf}_parse(e){if(this._def.coerce){e.data=Number(e.data)}const t=this._getType(e);if(t!==Z.number){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.number,received:t.parsedType});return V}let n=undefined;const r=new K;for(const t of this._def.checks){if(t.kind==="int"){if(!S.isInteger(e.data)){n=this._getOrReturnCtx(e,n);z(n,{code:A.invalid_type,expected:"integer",received:"float",message:t.message});r.dirty()}}else if(t.kind==="min"){const i=t.inclusive?e.data<t.value:e.data<=t.value;if(i){n=this._getOrReturnCtx(e,n);z(n,{code:A.too_small,minimum:t.value,type:"number",inclusive:t.inclusive,exact:false,message:t.message});r.dirty()}}else if(t.kind==="max"){const i=t.inclusive?e.data>t.value:e.data>=t.value;if(i){n=this._getOrReturnCtx(e,n);z(n,{code:A.too_big,maximum:t.value,type:"number",inclusive:t.inclusive,exact:false,message:t.message});r.dirty()}}else if(t.kind==="multipleOf"){if(ve(e.data,t.value)!==0){n=this._getOrReturnCtx(e,n);z(n,{code:A.not_multiple_of,multipleOf:t.value,message:t.message});r.dirty()}}else if(t.kind==="finite"){if(!Number.isFinite(e.data)){n=this._getOrReturnCtx(e,n);z(n,{code:A.not_finite,message:t.message});r.dirty()}}else{S.assertNever(t)}}return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,true,Q.toString(t))}gt(e,t){return this.setLimit("min",e,false,Q.toString(t))}lte(e,t){return this.setLimit("max",e,true,Q.toString(t))}lt(e,t){return this.setLimit("max",e,false,Q.toString(t))}setLimit(e,t,n,r){return new pe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Q.toString(r)}]})}_addCheck(e){return new pe({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:false,message:Q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:false,message:Q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:true,message:Q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:true,message:Q.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Q.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:true,value:Number.MIN_SAFE_INTEGER,message:Q.toString(e)})._addCheck({kind:"max",inclusive:true,value:Number.MAX_SAFE_INTEGER,message:Q.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks){if(t.kind==="min"){if(e===null||t.value>e)e=t.value}}return e}get maxValue(){let e=null;for(const t of this._def.checks){if(t.kind==="max"){if(e===null||t.value<e)e=t.value}}return e}get isInt(){return!!this._def.checks.find((e=>e.kind==="int"||e.kind==="multipleOf"&&S.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf"){return true}else if(n.kind==="min"){if(t===null||n.value>t)t=n.value}else if(n.kind==="max"){if(e===null||n.value<e)e=n.value}}return Number.isFinite(t)&&Number.isFinite(e)}}pe.create=e=>new pe({checks:[],typeName:nt.ZodNumber,coerce:(e===null||e===void 0?void 0:e.coerce)||false,...te(e)});class me extends ne{constructor(){super(...arguments);this.min=this.gte;this.max=this.lte}_parse(e){if(this._def.coerce){e.data=BigInt(e.data)}const t=this._getType(e);if(t!==Z.bigint){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.bigint,received:t.parsedType});return V}let n=undefined;const r=new K;for(const t of this._def.checks){if(t.kind==="min"){const i=t.inclusive?e.data<t.value:e.data<=t.value;if(i){n=this._getOrReturnCtx(e,n);z(n,{code:A.too_small,type:"bigint",minimum:t.value,inclusive:t.inclusive,message:t.message});r.dirty()}}else if(t.kind==="max"){const i=t.inclusive?e.data>t.value:e.data>=t.value;if(i){n=this._getOrReturnCtx(e,n);z(n,{code:A.too_big,type:"bigint",maximum:t.value,inclusive:t.inclusive,message:t.message});r.dirty()}}else if(t.kind==="multipleOf"){if(e.data%t.value!==BigInt(0)){n=this._getOrReturnCtx(e,n);z(n,{code:A.not_multiple_of,multipleOf:t.value,message:t.message});r.dirty()}}else{S.assertNever(t)}}return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,true,Q.toString(t))}gt(e,t){return this.setLimit("min",e,false,Q.toString(t))}lte(e,t){return this.setLimit("max",e,true,Q.toString(t))}lt(e,t){return this.setLimit("max",e,false,Q.toString(t))}setLimit(e,t,n,r){return new me({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Q.toString(r)}]})}_addCheck(e){return new me({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:false,message:Q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:false,message:Q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:true,message:Q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:true,message:Q.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Q.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks){if(t.kind==="min"){if(e===null||t.value>e)e=t.value}}return e}get maxValue(){let e=null;for(const t of this._def.checks){if(t.kind==="max"){if(e===null||t.value<e)e=t.value}}return e}}me.create=e=>{var t;return new me({checks:[],typeName:nt.ZodBigInt,coerce:(t=e===null||e===void 0?void 0:e.coerce)!==null&&t!==void 0?t:false,...te(e)})};class ye extends ne{_parse(e){if(this._def.coerce){e.data=Boolean(e.data)}const t=this._getType(e);if(t!==Z.boolean){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.boolean,received:t.parsedType});return V}return H(e.data)}}ye.create=e=>new ye({typeName:nt.ZodBoolean,coerce:(e===null||e===void 0?void 0:e.coerce)||false,...te(e)});class ge extends ne{_parse(e){if(this._def.coerce){e.data=new Date(e.data)}const t=this._getType(e);if(t!==Z.date){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.date,received:t.parsedType});return V}if(isNaN(e.data.getTime())){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_date});return V}const n=new K;let r=undefined;for(const t of this._def.checks){if(t.kind==="min"){if(e.data.getTime()<t.value){r=this._getOrReturnCtx(e,r);z(r,{code:A.too_small,message:t.message,inclusive:true,exact:false,minimum:t.value,type:"date"});n.dirty()}}else if(t.kind==="max"){if(e.data.getTime()>t.value){r=this._getOrReturnCtx(e,r);z(r,{code:A.too_big,message:t.message,inclusive:true,exact:false,maximum:t.value,type:"date"});n.dirty()}}else{S.assertNever(t)}}return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ge({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Q.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Q.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks){if(t.kind==="min"){if(e===null||t.value>e)e=t.value}}return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks){if(t.kind==="max"){if(e===null||t.value<e)e=t.value}}return e!=null?new Date(e):null}}ge.create=e=>new ge({checks:[],coerce:(e===null||e===void 0?void 0:e.coerce)||false,typeName:nt.ZodDate,...te(e)});class be extends ne{_parse(e){const t=this._getType(e);if(t!==Z.symbol){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.symbol,received:t.parsedType});return V}return H(e.data)}}be.create=e=>new be({typeName:nt.ZodSymbol,...te(e)});class we extends ne{_parse(e){const t=this._getType(e);if(t!==Z.undefined){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.undefined,received:t.parsedType});return V}return H(e.data)}}we.create=e=>new we({typeName:nt.ZodUndefined,...te(e)});class ke extends ne{_parse(e){const t=this._getType(e);if(t!==Z.null){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.null,received:t.parsedType});return V}return H(e.data)}}ke.create=e=>new ke({typeName:nt.ZodNull,...te(e)});class xe extends ne{constructor(){super(...arguments);this._any=true}_parse(e){return H(e.data)}}xe.create=e=>new xe({typeName:nt.ZodAny,...te(e)});class je extends ne{constructor(){super(...arguments);this._unknown=true}_parse(e){return H(e.data)}}je.create=e=>new je({typeName:nt.ZodUnknown,...te(e)});class Oe extends ne{_parse(e){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.never,received:t.parsedType});return V}}Oe.create=e=>new Oe({typeName:nt.ZodNever,...te(e)});class Ne extends ne{_parse(e){const t=this._getType(e);if(t!==Z.undefined){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.void,received:t.parsedType});return V}return H(e.data)}}Ne.create=e=>new Ne({typeName:nt.ZodVoid,...te(e)});class Ee extends ne{_parse(e){const{ctx:t,status:n}=this._processInputParams(e);const r=this._def;if(t.parsedType!==Z.array){z(t,{code:A.invalid_type,expected:Z.array,received:t.parsedType});return V}if(r.exactLength!==null){const e=t.data.length>r.exactLength.value;const i=t.data.length<r.exactLength.value;if(e||i){z(t,{code:e?A.too_big:A.too_small,minimum:i?r.exactLength.value:undefined,maximum:e?r.exactLength.value:undefined,type:"array",inclusive:true,exact:true,message:r.exactLength.message});n.dirty()}}if(r.minLength!==null){if(t.data.length<r.minLength.value){z(t,{code:A.too_small,minimum:r.minLength.value,type:"array",inclusive:true,exact:false,message:r.minLength.message});n.dirty()}}if(r.maxLength!==null){if(t.data.length>r.maxLength.value){z(t,{code:A.too_big,maximum:r.maxLength.value,type:"array",inclusive:true,exact:false,message:r.maxLength.message});n.dirty()}}if(t.common.async){return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new X(t,e,t.path,n))))).then((e=>K.mergeArray(n,e)))}const i=[...t.data].map(((e,n)=>r.type._parseSync(new X(t,e,t.path,n))));return K.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new Ee({...this._def,minLength:{value:e,message:Q.toString(t)}})}max(e,t){return new Ee({...this._def,maxLength:{value:e,message:Q.toString(t)}})}length(e,t){return new Ee({...this._def,exactLength:{value:e,message:Q.toString(t)}})}nonempty(e){return this.min(1,e)}}Ee.create=(e,t)=>new Ee({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...te(t)});function Te(e){if(e instanceof _e){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Fe.create(Te(r))}return new _e({...e._def,shape:()=>t})}else if(e instanceof Ee){return new Ee({...e._def,type:Te(e.element)})}else if(e instanceof Fe){return Fe.create(Te(e.unwrap()))}else if(e instanceof He){return He.create(Te(e.unwrap()))}else if(e instanceof Ae){return Ae.create(e.items.map((e=>Te(e))))}else{return e}}class _e extends ne{constructor(){super(...arguments);this._cached=null;this.nonstrict=this.passthrough;this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape();const t=S.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){const t=this._getType(e);if(t!==Z.object){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.object,received:t.parsedType});return V}const{status:n,ctx:r}=this._processInputParams(e);const{shape:i,keys:s}=this._getCached();const a=[];if(!(this._def.catchall instanceof Oe&&this._def.unknownKeys==="strip")){for(const e in r.data){if(!s.includes(e)){a.push(e)}}}const o=[];for(const e of s){const t=i[e];const n=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new X(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof Oe){const e=this._def.unknownKeys;if(e==="passthrough"){for(const e of a){o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}})}}else if(e==="strict"){if(a.length>0){z(r,{code:A.unrecognized_keys,keys:a});n.dirty()}}else if(e==="strip");else{throw new Error(`Internal ZodObject error: invalid unknownKeys value.`)}}else{const e=this._def.catchall;for(const t of a){const n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new X(r,n,r.path,t)),alwaysSet:t in r.data})}}if(r.common.async){return Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>K.mergeObjectSync(n,e)))}else{return K.mergeObjectSync(n,o)}}get shape(){return this._def.shape()}strict(e){return new _e({...this._def,unknownKeys:"strict",...e!==undefined?{errorMap:(t,n)=>{var r,i,s,a;const o=(s=(i=(r=this._def).errorMap)===null||i===void 0?void 0:i.call(r,t,n).message)!==null&&s!==void 0?s:n.defaultError;if(t.code==="unrecognized_keys")return{message:(a=Q.errToObj(e).message)!==null&&a!==void 0?a:o};return{message:o}}}:{}})}strip(){return new _e({...this._def,unknownKeys:"strip"})}passthrough(){return new _e({...this._def,unknownKeys:"passthrough"})}extend(e){return new _e({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){const t=new _e({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:nt.ZodObject});return t}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new _e({...this._def,catchall:e})}pick(e){const t={};S.objectKeys(e).forEach((n=>{if(e[n]&&this.shape[n]){t[n]=this.shape[n]}}));return new _e({...this._def,shape:()=>t})}omit(e){const t={};S.objectKeys(this.shape).forEach((n=>{if(!e[n]){t[n]=this.shape[n]}}));return new _e({...this._def,shape:()=>t})}deepPartial(){return Te(this)}partial(e){const t={};S.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];if(e&&!e[n]){t[n]=r}else{t[n]=r.optional()}}));return new _e({...this._def,shape:()=>t})}required(e){const t={};S.objectKeys(this.shape).forEach((n=>{if(e&&!e[n]){t[n]=this.shape[n]}else{const e=this.shape[n];let r=e;while(r instanceof Fe){r=r._def.innerType}t[n]=r}}));return new _e({...this._def,shape:()=>t})}keyof(){return qe(S.objectKeys(this.shape))}}_e.create=(e,t)=>new _e({shape:()=>e,unknownKeys:"strip",catchall:Oe.create(),typeName:nt.ZodObject,...te(t)});_e.strictCreate=(e,t)=>new _e({shape:()=>e,unknownKeys:"strict",catchall:Oe.create(),typeName:nt.ZodObject,...te(t)});_e.lazycreate=(e,t)=>new _e({shape:e,unknownKeys:"strip",catchall:Oe.create(),typeName:nt.ZodObject,...te(t)});class Pe extends ne{_parse(e){const{ctx:t}=this._processInputParams(e);const n=this._def.options;function r(e){for(const t of e){if(t.result.status==="valid"){return t.result}}for(const n of e){if(n.result.status==="dirty"){t.common.issues.push(...n.ctx.common.issues);return n.result}}const n=e.map((e=>new C(e.ctx.common.issues)));z(t,{code:A.invalid_union,unionErrors:n});return V}if(t.common.async){return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then(r)}else{let e=undefined;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null};const s=i._parseSync({data:t.data,path:t.path,parent:n});if(s.status==="valid"){return s}else if(s.status==="dirty"&&!e){e={result:s,ctx:n}}if(n.common.issues.length){r.push(n.common.issues)}}if(e){t.common.issues.push(...e.ctx.common.issues);return e.result}const i=r.map((e=>new C(e)));z(t,{code:A.invalid_union,unionErrors:i});return V}}get options(){return this._def.options}}Pe.create=(e,t)=>new Pe({options:e,typeName:nt.ZodUnion,...te(t)});const Se=e=>{if(e instanceof Me){return Se(e.schema)}else if(e instanceof Ve){return Se(e.innerType())}else if(e instanceof Be){return[e.value]}else if(e instanceof Ue){return e.options}else if(e instanceof ze){return Object.keys(e.enum)}else if(e instanceof We){return Se(e._def.innerType)}else if(e instanceof we){return[undefined]}else if(e instanceof ke){return[null]}else{return null}};class Re extends ne{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Z.object){z(t,{code:A.invalid_type,expected:Z.object,received:t.parsedType});return V}const n=this.discriminator;const r=t.data[n];const i=this.optionsMap.get(r);if(!i){z(t,{code:A.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]});return V}if(t.common.async){return i._parseAsync({data:t.data,path:t.path,parent:t})}else{return i._parseSync({data:t.data,path:t.path,parent:t})}}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Se(n.shape[e]);if(!t){throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`)}for(const i of t){if(r.has(i)){throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`)}r.set(i,n)}}return new Re({typeName:nt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...te(n)})}}function Ze(e,t){const n=I(e);const r=I(t);if(e===t){return{valid:true,data:e}}else if(n===Z.object&&r===Z.object){const n=S.objectKeys(t);const r=S.objectKeys(e).filter((e=>n.indexOf(e)!==-1));const i={...e,...t};for(const n of r){const r=Ze(e[n],t[n]);if(!r.valid){return{valid:false}}i[n]=r.data}return{valid:true,data:i}}else if(n===Z.array&&r===Z.array){if(e.length!==t.length){return{valid:false}}const n=[];for(let r=0;r<e.length;r++){const i=e[r];const s=t[r];const a=Ze(i,s);if(!a.valid){return{valid:false}}n.push(a.data)}return{valid:true,data:n}}else if(n===Z.date&&r===Z.date&&+e===+t){return{valid:true,data:e}}else{return{valid:false}}}class Ie extends ne{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);const r=(e,r)=>{if(W(e)||W(r)){return V}const i=Ze(e.value,r.value);if(!i.valid){z(n,{code:A.invalid_intersection_types});return V}if(J(e)||J(r)){t.dirty()}return{status:t.value,value:i.data}};if(n.common.async){return Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t)))}else{return r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}}Ie.create=(e,t,n)=>new Ie({left:e,right:t,typeName:nt.ZodIntersection,...te(n)});class Ae extends ne{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.array){z(n,{code:A.invalid_type,expected:Z.array,received:n.parsedType});return V}if(n.data.length<this._def.items.length){z(n,{code:A.too_small,minimum:this._def.items.length,inclusive:true,exact:false,type:"array"});return V}const r=this._def.rest;if(!r&&n.data.length>this._def.items.length){z(n,{code:A.too_big,maximum:this._def.items.length,inclusive:true,exact:false,type:"array"});t.dirty()}const i=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;if(!r)return null;return r._parse(new X(n,e,n.path,t))})).filter((e=>!!e));if(n.common.async){return Promise.all(i).then((e=>K.mergeArray(t,e)))}else{return K.mergeArray(t,i)}}get items(){return this._def.items}rest(e){return new Ae({...this._def,rest:e})}}Ae.create=(e,t)=>{if(!Array.isArray(e)){throw new Error("You must pass an array of schemas to z.tuple([ ... ])")}return new Ae({items:e,typeName:nt.ZodTuple,rest:null,...te(t)})};class $e extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.object){z(n,{code:A.invalid_type,expected:Z.object,received:n.parsedType});return V}const r=[];const i=this._def.keyType;const s=this._def.valueType;for(const e in n.data){r.push({key:i._parse(new X(n,e,n.path,e)),value:s._parse(new X(n,n.data[e],n.path,e))})}if(n.common.async){return K.mergeObjectAsync(t,r)}else{return K.mergeObjectSync(t,r)}}get element(){return this._def.valueType}static create(e,t,n){if(t instanceof ne){return new $e({keyType:e,valueType:t,typeName:nt.ZodRecord,...te(n)})}return new $e({keyType:de.create(),valueType:e,typeName:nt.ZodRecord,...te(t)})}}class Ce extends ne{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.map){z(n,{code:A.invalid_type,expected:Z.map,received:n.parsedType});return V}const r=this._def.keyType;const i=this._def.valueType;const s=[...n.data.entries()].map((([e,t],s)=>({key:r._parse(new X(n,e,n.path,[s,"key"])),value:i._parse(new X(n,t,n.path,[s,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const r=await n.key;const i=await n.value;if(r.status==="aborted"||i.status==="aborted"){return V}if(r.status==="dirty"||i.status==="dirty"){t.dirty()}e.set(r.value,i.value)}return{status:t.value,value:e}}))}else{const e=new Map;for(const n of s){const r=n.key;const i=n.value;if(r.status==="aborted"||i.status==="aborted"){return V}if(r.status==="dirty"||i.status==="dirty"){t.dirty()}e.set(r.value,i.value)}return{status:t.value,value:e}}}}Ce.create=(e,t,n)=>new Ce({valueType:t,keyType:e,typeName:nt.ZodMap,...te(n)});class Le extends ne{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.set){z(n,{code:A.invalid_type,expected:Z.set,received:n.parsedType});return V}const r=this._def;if(r.minSize!==null){if(n.data.size<r.minSize.value){z(n,{code:A.too_small,minimum:r.minSize.value,type:"set",inclusive:true,exact:false,message:r.minSize.message});t.dirty()}}if(r.maxSize!==null){if(n.data.size>r.maxSize.value){z(n,{code:A.too_big,maximum:r.maxSize.value,type:"set",inclusive:true,exact:false,message:r.maxSize.message});t.dirty()}}const i=this._def.valueType;function s(e){const n=new Set;for(const r of e){if(r.status==="aborted")return V;if(r.status==="dirty")t.dirty();n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map(((e,t)=>i._parse(new X(n,e,n.path,t))));if(n.common.async){return Promise.all(a).then((e=>s(e)))}else{return s(a)}}min(e,t){return new Le({...this._def,minSize:{value:e,message:Q.toString(t)}})}max(e,t){return new Le({...this._def,maxSize:{value:e,message:Q.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Le.create=(e,t)=>new Le({valueType:e,minSize:null,maxSize:null,typeName:nt.ZodSet,...te(t)});class De extends ne{constructor(){super(...arguments);this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Z.function){z(t,{code:A.invalid_type,expected:Z.function,received:t.parsedType});return V}function n(e,n){return q({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,B(),L].filter((e=>!!e)),issueData:{code:A.invalid_arguments,argumentsError:n}})}function r(e,n){return q({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,B(),L].filter((e=>!!e)),issueData:{code:A.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap};const s=t.data;if(this._def.returns instanceof Ke){return H((async(...e)=>{const t=new C([]);const a=await this._def.args.parseAsync(e,i).catch((r=>{t.addIssue(n(e,r));throw t}));const o=await s(...a);const u=await this._def.returns._def.type.parseAsync(o,i).catch((e=>{t.addIssue(r(o,e));throw t}));return u}))}else{return H(((...e)=>{const t=this._def.args.safeParse(e,i);if(!t.success){throw new C([n(e,t.error)])}const a=s(...t.data);const o=this._def.returns.safeParse(a,i);if(!o.success){throw new C([r(a,o.error)])}return o.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new De({...this._def,args:Ae.create(e).rest(je.create())})}returns(e){return new De({...this._def,returns:e})}implement(e){const t=this.parse(e);return t}strictImplement(e){const t=this.parse(e);return t}static create(e,t,n){return new De({args:e?e:Ae.create([]).rest(je.create()),returns:t||je.create(),typeName:nt.ZodFunction,...te(n)})}}class Me extends ne{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);const n=this._def.getter();return n._parse({data:t.data,path:t.path,parent:t})}}Me.create=(e,t)=>new Me({getter:e,typeName:nt.ZodLazy,...te(t)});class Be extends ne{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);z(t,{received:t.data,code:A.invalid_literal,expected:this._def.value});return V}return{status:"valid",value:e.data}}get value(){return this._def.value}}Be.create=(e,t)=>new Be({value:e,typeName:nt.ZodLiteral,...te(t)});function qe(e,t){return new Ue({values:e,typeName:nt.ZodEnum,...te(t)})}class Ue extends ne{_parse(e){if(typeof e.data!=="string"){const t=this._getOrReturnCtx(e);const n=this._def.values;z(t,{expected:S.joinValues(n),received:t.parsedType,code:A.invalid_type});return V}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e);const n=this._def.values;z(t,{received:t.data,code:A.invalid_enum_value,options:n});return V}return H(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values){e[t]=t}return e}get Values(){const e={};for(const t of this._def.values){e[t]=t}return e}get Enum(){const e={};for(const t of this._def.values){e[t]=t}return e}extract(e){return Ue.create(e)}exclude(e){return Ue.create(this.options.filter((t=>!e.includes(t))))}}Ue.create=qe;class ze extends ne{_parse(e){const t=S.getValidEnumValues(this._def.values);const n=this._getOrReturnCtx(e);if(n.parsedType!==Z.string&&n.parsedType!==Z.number){const e=S.objectValues(t);z(n,{expected:S.joinValues(e),received:n.parsedType,code:A.invalid_type});return V}if(t.indexOf(e.data)===-1){const e=S.objectValues(t);z(n,{received:n.data,code:A.invalid_enum_value,options:e});return V}return H(e.data)}get enum(){return this._def.values}}ze.create=(e,t)=>new ze({values:e,typeName:nt.ZodNativeEnum,...te(t)});class Ke extends ne{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Z.promise&&t.common.async===false){z(t,{code:A.invalid_type,expected:Z.promise,received:t.parsedType});return V}const n=t.parsedType===Z.promise?t.data:Promise.resolve(t.data);return H(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Ke.create=(e,t)=>new Ke({type:e,typeName:nt.ZodPromise,...te(t)});class Ve extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);const r=this._def.effect||null;if(r.type==="preprocess"){const e=r.transform(n.data);if(n.common.async){return Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n})))}else{return this._def.schema._parseSync({data:e,path:n.path,parent:n})}}const i={addIssue:e=>{z(n,e);if(e.fatal){t.abort()}else{t.dirty()}},get path(){return n.path}};i.addIssue=i.addIssue.bind(i);if(r.type==="refinement"){const e=e=>{const t=r.refinement(e,i);if(n.common.async){return Promise.resolve(t)}if(t instanceof Promise){throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.")}return e};if(n.common.async===false){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(r.status==="aborted")return V;if(r.status==="dirty")t.dirty();e(r.value);return{status:t.value,value:r.value}}else{return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>{if(n.status==="aborted")return V;if(n.status==="dirty")t.dirty();return e(n.value).then((()=>({status:t.value,value:n.value})))}))}}if(r.type==="transform"){if(n.common.async===false){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Y(e))return e;const s=r.transform(e.value,i);if(s instanceof Promise){throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`)}return{status:t.value,value:s}}else{return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>{if(!Y(e))return e;return Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e})))}))}}S.assertNever(r)}}Ve.create=(e,t,n)=>new Ve({schema:e,typeName:nt.ZodEffects,effect:t,...te(n)});Ve.createWithPreprocess=(e,t,n)=>new Ve({schema:t,effect:{type:"preprocess",transform:e},typeName:nt.ZodEffects,...te(n)});class Fe extends ne{_parse(e){const t=this._getType(e);if(t===Z.undefined){return H(undefined)}return this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fe.create=(e,t)=>new Fe({innerType:e,typeName:nt.ZodOptional,...te(t)});class He extends ne{_parse(e){const t=this._getType(e);if(t===Z.null){return H(null)}return this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}He.create=(e,t)=>new He({innerType:e,typeName:nt.ZodNullable,...te(t)});class We extends ne{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;if(t.parsedType===Z.undefined){n=this._def.defaultValue()}return this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}We.create=(e,t)=>new We({innerType:e,typeName:nt.ZodDefault,defaultValue:typeof t.default==="function"?t.default:()=>t.default,...te(t)});class Je extends ne{_parse(e){const{ctx:t}=this._processInputParams(e);const n={...t,common:{...t.common,issues:[]}};const r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});if(G(r)){return r.then((e=>({status:"valid",value:e.status==="valid"?e.value:this._def.catchValue({get error(){return new C(n.common.issues)},input:n.data})})))}else{return{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new C(n.common.issues)},input:n.data})}}}removeCatch(){return this._def.innerType}}Je.create=(e,t)=>new Je({innerType:e,typeName:nt.ZodCatch,catchValue:typeof t.catch==="function"?t.catch:()=>t.catch,...te(t)});class Ye extends ne{_parse(e){const t=this._getType(e);if(t!==Z.nan){const t=this._getOrReturnCtx(e);z(t,{code:A.invalid_type,expected:Z.nan,received:t.parsedType});return V}return{status:"valid",value:e.data}}}Ye.create=e=>new Ye({typeName:nt.ZodNaN,...te(e)});const Ge=Symbol("zod_brand");class Qe extends ne{_parse(e){const{ctx:t}=this._processInputParams(e);const n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Xe extends ne{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){const e=async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});if(e.status==="aborted")return V;if(e.status==="dirty"){t.dirty();return F(e.value)}else{return this._def.out._parseAsync({data:e.value,path:n.path,parent:n})}};return e()}else{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});if(e.status==="aborted")return V;if(e.status==="dirty"){t.dirty();return{status:"dirty",value:e.value}}else{return this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}}static create(e,t){return new Xe({in:e,out:t,typeName:nt.ZodPipeline})}}const et=(e,t={},n)=>{if(e)return xe.create().superRefine(((r,i)=>{var s,a;if(!e(r)){const e=typeof t==="function"?t(r):typeof t==="string"?{message:t}:t;const o=(a=(s=e.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:true;const u=typeof e==="string"?{message:e}:e;i.addIssue({code:"custom",...u,fatal:o})}}));return xe.create()};const tt={object:_e.lazycreate};var nt;(function(e){e["ZodString"]="ZodString";e["ZodNumber"]="ZodNumber";e["ZodNaN"]="ZodNaN";e["ZodBigInt"]="ZodBigInt";e["ZodBoolean"]="ZodBoolean";e["ZodDate"]="ZodDate";e["ZodSymbol"]="ZodSymbol";e["ZodUndefined"]="ZodUndefined";e["ZodNull"]="ZodNull";e["ZodAny"]="ZodAny";e["ZodUnknown"]="ZodUnknown";e["ZodNever"]="ZodNever";e["ZodVoid"]="ZodVoid";e["ZodArray"]="ZodArray";e["ZodObject"]="ZodObject";e["ZodUnion"]="ZodUnion";e["ZodDiscriminatedUnion"]="ZodDiscriminatedUnion";e["ZodIntersection"]="ZodIntersection";e["ZodTuple"]="ZodTuple";e["ZodRecord"]="ZodRecord";e["ZodMap"]="ZodMap";e["ZodSet"]="ZodSet";e["ZodFunction"]="ZodFunction";e["ZodLazy"]="ZodLazy";e["ZodLiteral"]="ZodLiteral";e["ZodEnum"]="ZodEnum";e["ZodEffects"]="ZodEffects";e["ZodNativeEnum"]="ZodNativeEnum";e["ZodOptional"]="ZodOptional";e["ZodNullable"]="ZodNullable";e["ZodDefault"]="ZodDefault";e["ZodCatch"]="ZodCatch";e["ZodPromise"]="ZodPromise";e["ZodBranded"]="ZodBranded";e["ZodPipeline"]="ZodPipeline"})(nt||(nt={}));const rt=(e,t={message:`Input not instance of ${e.name}`})=>et((t=>t instanceof e),t);const it=de.create;const st=pe.create;const at=Ye.create;const ot=me.create;const ut=ye.create;const ft=ge.create;const ct=be.create;const lt=we.create;const ht=ke.create;const dt=xe.create;const vt=je.create;const pt=Oe.create;const mt=Ne.create;const yt=Ee.create;const gt=_e.create;const bt=_e.strictCreate;const wt=Pe.create;const kt=Re.create;const xt=Ie.create;const jt=Ae.create;const Ot=$e.create;const Nt=Ce.create;const Et=Le.create;const Tt=De.create;const _t=Me.create;const Pt=Be.create;const St=Ue.create;const Rt=ze.create;const Zt=Ke.create;const It=Ve.create;const At=Fe.create;const $t=He.create;const Ct=Ve.createWithPreprocess;const Lt=Xe.create;const Dt=()=>it().optional();const Mt=()=>st().optional();const Bt=()=>ut().optional();const qt={string:e=>de.create({...e,coerce:true}),number:e=>pe.create({...e,coerce:true}),boolean:e=>ye.create({...e,coerce:true}),bigint:e=>me.create({...e,coerce:true}),date:e=>ge.create({...e,coerce:true})};const Ut=V;var zt=Object.freeze({__proto__:null,defaultErrorMap:L,setErrorMap:M,getErrorMap:B,makeIssue:q,EMPTY_PATH:U,addIssueToContext:z,ParseStatus:K,INVALID:V,DIRTY:F,OK:H,isAborted:W,isDirty:J,isValid:Y,isAsync:G,get util(){return S},get objectUtil(){return R},ZodParsedType:Z,getParsedType:I,ZodType:ne,ZodString:de,ZodNumber:pe,ZodBigInt:me,ZodBoolean:ye,ZodDate:ge,ZodSymbol:be,ZodUndefined:we,ZodNull:ke,ZodAny:xe,ZodUnknown:je,ZodNever:Oe,ZodVoid:Ne,ZodArray:Ee,ZodObject:_e,ZodUnion:Pe,ZodDiscriminatedUnion:Re,ZodIntersection:Ie,ZodTuple:Ae,ZodRecord:$e,ZodMap:Ce,ZodSet:Le,ZodFunction:De,ZodLazy:Me,ZodLiteral:Be,ZodEnum:Ue,ZodNativeEnum:ze,ZodPromise:Ke,ZodEffects:Ve,ZodTransformer:Ve,ZodOptional:Fe,ZodNullable:He,ZodDefault:We,ZodCatch:Je,ZodNaN:Ye,BRAND:Ge,ZodBranded:Qe,ZodPipeline:Xe,custom:et,Schema:ne,ZodSchema:ne,late:tt,get ZodFirstPartyTypeKind(){return nt},coerce:qt,any:dt,array:yt,bigint:ot,boolean:ut,date:ft,discriminatedUnion:kt,effect:It,enum:St,function:Tt,instanceof:rt,intersection:xt,lazy:_t,literal:Pt,map:Nt,nan:at,nativeEnum:Rt,never:pt,null:ht,nullable:$t,number:st,object:gt,oboolean:Bt,onumber:Mt,optional:At,ostring:Dt,pipeline:Lt,preprocess:Ct,promise:Zt,record:Ot,set:Et,strictObject:bt,string:it,symbol:ct,transformer:It,tuple:jt,undefined:lt,union:wt,unknown:vt,void:mt,NEVER:Ut,ZodIssueCode:A,quotelessJson:$,ZodError:C});const Kt=zt.object({page:zt.number().optional(),take:zt.number().optional(),order:zt.union([zt.literal("asc"),zt.literal("desc")]).optional()}).optional();const Vt=zt.string().url();const Ft=zt.object({type:zt.union([zt.string(),zt.enum(["personal","company"])]),givenName:zt.string().optional().nullable().transform((e=>e===null?"":e)).refine((e=>e!==undefined),{message:"errors.formError"}),familyName:zt.string().optional().nullable().transform((e=>e===null?"":e)).refine((e=>e!==undefined),{message:"errors.forms.required"}),organizationName:zt.string().optional().nullable().transform((e=>e===null?"":e)).refine((e=>e!==undefined),{message:"errors.forms.required"}),city:zt.string().refine((e=>e.trim()!==""),{message:"errors.forms.required"}),country:zt.string().refine((e=>e.trim()!==""),{message:"errors.forms.required"}),phone:zt.string().refine((e=>e.trim()!==""),{message:"errors.forms.required"}),email:zt.string().email("errors.forms.invalidEmail").refine((e=>e.trim()!==""),{message:"errors.forms.required"}),careOf:zt.string().optional().nullable().transform((e=>e===null?"":e)),postalCode:zt.string().refine((e=>e.trim()!==""),{message:"errors.forms.required"}),streetAddress:zt.string().refine((e=>e.trim()!==""),{message:"errors.forms.required"}),streetAddress2:zt.string().optional().nullable().transform((e=>e===null?"":e))});const Ht=zt.object({city:zt.string().refine((e=>e.trim()!==""),{message:"errors.forms.required"}),country:zt.string(),organizationRegistrationId:zt.string().refine((e=>e.trim()!==""),{message:"errors.forms.required"}),email:zt.string().email("errors.forms.invalidEmail").refine((e=>e.trim()!==""),{message:"errors.forms.required"}),organizationName:zt.string().refine((e=>e.trim()!==""),{message:"errors.forms.required"}),postalCode:zt.string().refine((e=>e.trim()!==""),{message:"errors.forms.required"}),invoiceType:zt.union([zt.literal("electronic"),zt.literal("postal"),zt.literal("PDF"),zt.string()])});zt.object({lines:zt.array(zt.object({productId:zt.string().uuid(),productGroupId:zt.string().uuid(),count:zt.number()})),billing:Ht,delivery:Ft,customerInfo:zt.object({givenName:zt.string(),familyName:zt.string(),email:zt.string().email(),phone:zt.string()}),siteId:zt.string().uuid()});const Wt=zt.array(zt.object({id:zt.string().uuid(),iso:zt.string(),nicename:zt.string()}));zt.object({id:zt.string().uuid(),active:zt.boolean(),name:zt.string(),billingAddress:Ht.optional(),shippingAddress:Ft.optional(),countries:Wt});const Jt=zt.string({required_error:`Charma API Key is required!\n You must run init function to set a key`});const Yt=zt.object({delivery:Ft.optional(),billing:Ht.optional(),productId:zt.string().optional()});class Gt{constructor(){this.baseUrl=`${e.API_BASE_URL}`}async init(e){const t=Jt.safeParse(e);if(!t.success)throw new Error("Key is invalid");this.key=t.data;this.api=P.create({prefixUrl:this.baseUrl,headers:{Authorization:`Bearer ${this.key}`},timeout:6e3});const n=new CustomEvent("invalid-charma-key",{bubbles:true});return await this.getKey().then((e=>{if(!e.active){this.api=null;document.body.dispatchEvent(n);throw new Error("Charma API Key is invalid!")}return this.getCountries().then((t=>{this.keyMetadata=Object.assign(Object.assign({},e),{countries:t})}))})).catch((e=>{this.api=null;document.body.dispatchEvent(n);throw new Error("Charma API Key is invalid!")}))}setBaseUrl(e){if(Vt.safeParse(e).success){this.baseUrl=e}else{throw new Error("baseUrl is not valid URL!")}}async getCategories(e){try{const t=Kt.parse(e);const n=await this.api.get("categories",{searchParams:t});return await n.json()}catch(e){if(e.name==="HTTPError"){return await e.response.json()}}}async getCountries(){try{const e=await this.api.get("countries");const t=await e.json();return t.countries}catch(e){if(e.name==="HTTPError"){return await e.response.json()}}}async getBrands(e){try{const t=Kt.parse(e);const n=await this.api.get("brands",{searchParams:t});return await n.json()}catch(e){if(e.name==="HTTPError"){return await e.response.json()}}}async getProducts(e){try{const t=Kt.parse(e);const n=await this.api.get("products",{searchParams:t});return await n.json()}catch(e){if(e.name==="HTTPError"){return await e.response.json()}}}async getProduct(e){if(!e)throw new Error("Product ID is required");try{const t=await this.api.get(`products/${e}`);return await t.json()}catch(e){if(e.name==="HTTPError"){return await e.response.json()}}}async getOrder(e){if(!e)throw new Error("Order Number is required");try{const t=this.api.get(`orders/${e}`);return await t.json()}catch(e){if(e.name==="HTTPError"){return await e.response.json()}}}async getOrders(e){try{const t=Kt.parse(e);const n=this.api.get(`orders`,{searchParams:t});return await n.json()}catch(e){if(e.name==="HTTPError"){return await e.response.json()}}}async createOrder(e){try{const t=await this.api.post(`order`,{json:e});if(!t.ok){throw new Error("Something went wrong")}return await t.json()}catch(e){if(e.name==="HTTPError"){return await e.response.json()}return await e}}async getKey(){try{const e=await this.api.get(`get-key/${this.key}`);return await e.json()}catch(e){if(e.name==="HTTPError"){return await e.response.json()}}}}const Qt=(e,t,n)=>{const r=e.get(t);if(!r){e.set(t,[n])}else if(!r.includes(n)){r.push(n)}};const Xt=(e,t)=>{let n;return(...r)=>{if(n){clearTimeout(n)}n=setTimeout((()=>{n=0;e(...r)}),t)}};const en=e=>!("isConnected"in e)||e.isConnected;const tn=Xt((e=>{for(let t of e.keys()){e.set(t,e.get(t).filter(en))}}),2e3);const nn=()=>{if(typeof t!=="function"){return{}}const e=new Map;return{dispose:()=>e.clear(),get:n=>{const r=t();if(r){Qt(e,n,r)}},set:t=>{const r=e.get(t);if(r){e.set(t,r.filter(n))}tn(e)},reset:()=>{e.forEach((e=>e.forEach(n)));tn(e)}}};const rn=e=>typeof e==="function"?e():e;const sn=(e,t=((e,t)=>e!==t))=>{const n=rn(e);let r=new Map(Object.entries(n!==null&&n!==void 0?n:{}));const i={dispose:[],get:[],set:[],reset:[]};const s=()=>{var t;r=new Map(Object.entries((t=rn(e))!==null&&t!==void 0?t:{}));i.reset.forEach((e=>e()))};const a=()=>{i.dispose.forEach((e=>e()));s()};const o=e=>{i.get.forEach((t=>t(e)));return r.get(e)};const u=(e,n)=>{const s=r.get(e);if(t(n,s,e)){r.set(e,n);i.set.forEach((t=>t(e,n,s)))}};const f=typeof Proxy==="undefined"?{}:new Proxy(n,{get(e,t){return o(t)},ownKeys(e){return Array.from(r.keys())},getOwnPropertyDescriptor(){return{enumerable:true,configurable:true}},has(e,t){return r.has(t)},set(e,t,n){u(t,n);return true}});const c=(e,t)=>{i[e].push(t);return()=>{an(i[e],t)}};const l=(t,n)=>{const r=c("set",((e,r)=>{if(e===t){n(r)}}));const i=c("reset",(()=>n(rn(e)[t])));return()=>{r();i()}};const h=(...e)=>{const t=e.reduce(((e,t)=>{if(t.set){e.push(c("set",t.set))}if(t.get){e.push(c("get",t.get))}if(t.reset){e.push(c("reset",t.reset))}if(t.dispose){e.push(c("dispose",t.dispose))}return e}),[]);return()=>t.forEach((e=>e()))};const d=e=>{const t=r.get(e);i.set.forEach((n=>n(e,t,t)))};return{state:f,get:o,set:u,on:c,onChange:l,use:h,dispose:a,reset:s,forceUpdate:d}};const an=(e,t)=>{const n=e.indexOf(t);if(n>=0){e[n]=e[e.length-1];e.length--}};const on=(e,t)=>{const n=sn(e,t);n.use(nn());return n};function un(e){"@babel/helpers - typeof";return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function fn(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function cn(e,t){if(un(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if(un(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ln(e){var t=cn(e,"string");return un(t)==="symbol"?t:String(t)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,ln(r.key),r)}}function dn(e,t,n){if(t)hn(e.prototype,t);if(n)hn(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function vn(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function pn(e,t){pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return pn(e,t)}function mn(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)pn(e,t)}function yn(e,t){if(t&&(un(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return vn(e)}function gn(e){gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return gn(e)}function bn(e,t,n){t=ln(t);if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function wn(e){if(Array.isArray(e))return e}function kn(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xn(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(e,t){if(!e)return;if(typeof e==="string")return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xn(e,t)}function On(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nn(e){return wn(e)||kn(e)||jn(e)||On()}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _n={type:"logger",log:function e(t){this.output("log",t)},warn:function e(t){this.output("warn",t)},error:function e(t){this.output("error",t)},output:function e(t,n){if(console&&console[t])console[t].apply(console,n)}};var Pn=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};fn(this,e);this.init(t,n)}dn(e,[{key:"init",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.prefix=n.prefix||"i18next:";this.logger=t||_n;this.options=n;this.debug=n.debug}},{key:"setDebug",value:function e(t){this.debug=t}},{key:"log",value:function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return this.forward(n,"log","",true)}},{key:"warn",value:function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return this.forward(n,"warn","",true)}},{key:"error",value:function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return this.forward(n,"error","")}},{key:"deprecate",value:function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return this.forward(n,"warn","WARNING DEPRECATED: ",true)}},{key:"forward",value:function e(t,n,r,i){if(i&&!this.debug)return null;if(typeof t[0]==="string")t[0]="".concat(r).concat(this.prefix," ").concat(t[0]);return this.logger[n](t)}},{key:"create",value:function t(n){return new e(this.logger,Tn(Tn({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function t(n){n=n||this.options;n.prefix=n.prefix||this.prefix;return new e(this.logger,n)}}]);return e}();var Sn=new Pn;var Rn=function(){function e(){fn(this,e);this.observers={}}dn(e,[{key:"on",value:function e(t,n){var r=this;t.split(" ").forEach((function(e){r.observers[e]=r.observers[e]||[];r.observers[e].push(n)}));return this}},{key:"off",value:function e(t,n){if(!this.observers[t])return;if(!n){delete this.observers[t];return}this.observers[t]=this.observers[t].filter((function(e){return e!==n}))}},{key:"emit",value:function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}if(this.observers[t]){var s=[].concat(this.observers[t]);s.forEach((function(e){e.apply(void 0,r)}))}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach((function(e){e.apply(e,[t].concat(r))}))}}}]);return e}();function Zn(){var e;var t;var n=new Promise((function(n,r){e=n;t=r}));n.resolve=e;n.reject=t;return n}function In(e){if(e==null)return"";return""+e}function An(e,t,n){e.forEach((function(e){if(t[e])n[e]=t[e]}))}function $n(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||typeof e==="string"}var s=typeof t!=="string"?[].concat(t):t.split(".");while(s.length>1){if(i())return{};var a=r(s.shift());if(!e[a]&&n)e[a]=new n;if(Object.prototype.hasOwnProperty.call(e,a)){e=e[a]}else{e={}}}if(i())return{};return{obj:e,k:r(s.shift())}}function Cn(e,t,n){var r=$n(e,t,Object),i=r.obj,s=r.k;i[s]=n}function Ln(e,t,n,r){var i=$n(e,t,Object),s=i.obj,a=i.k;s[a]=s[a]||[];if(r)s[a]=s[a].concat(n);if(!r)s[a].push(n)}function Dn(e,t){var n=$n(e,t),r=n.obj,i=n.k;if(!r)return undefined;return r[i]}function Mn(e,t,n){var r=Dn(e,n);if(r!==undefined){return r}return Dn(t,n)}function Bn(e,t,n){for(var r in t){if(r!=="__proto__"&&r!=="constructor"){if(r in e){if(typeof e[r]==="string"||e[r]instanceof String||typeof t[r]==="string"||t[r]instanceof String){if(n)e[r]=t[r]}else{Bn(e[r],t[r],n)}}else{e[r]=t[r]}}}return e}function qn(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Un={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function zn(e){if(typeof e==="string"){return e.replace(/[&<>"'\/]/g,(function(e){return Un[e]}))}return e}var Kn=typeof window!=="undefined"&&window.navigator&&typeof window.navigator.userAgentData==="undefined"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;var Vn=[" ",",","?","!",";"];function Fn(e,t,n){t=t||"";n=n||"";var r=Vn.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(r.length===0)return true;var i=new RegExp("(".concat(r.map((function(e){return e==="?"?"\\?":e})).join("|"),")"));var s=!i.test(e);if(!s){var a=e.indexOf(n);if(a>0&&!i.test(e.substring(0,a))){s=true}}return s}function Hn(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:".";if(!e)return undefined;if(e[t])return e[t];var r=t.split(n);var i=e;for(var s=0;s<r.length;++s){if(!i)return undefined;if(typeof i[r[s]]==="string"&&s+1<r.length){return undefined}if(i[r[s]]===undefined){var a=2;var o=r.slice(s,s+a).join(n);var u=i[o];while(u===undefined&&r.length>s+a){a++;o=r.slice(s,s+a).join(n);u=i[o]}if(u===undefined)return undefined;if(u===null)return null;if(t.endsWith(o)){if(typeof u==="string")return u;if(o&&typeof u[o]==="string")return u[o]}var f=r.slice(s+a).join(n);if(f)return Hn(u,f,n);return undefined}i=i[r[s]]}return i}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e){var t=Gn();return function n(){var r=gn(e),i;if(t){var s=gn(this).constructor;i=Reflect.construct(r,arguments,s)}else{i=r.apply(this,arguments)}return yn(this,i)}}function Gn(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}var Qn=function(e){mn(n,e);var t=Yn(n);function n(e){var r;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{ns:["translation"],defaultNS:"translation"};fn(this,n);r=t.call(this);if(Kn){Rn.call(vn(r))}r.data=e||{};r.options=i;if(r.options.keySeparator===undefined){r.options.keySeparator="."}if(r.options.ignoreJSONStructure===undefined){r.options.ignoreJSONStructure=true}return r}dn(n,[{key:"addNamespaces",value:function e(t){if(this.options.ns.indexOf(t)<0){this.options.ns.push(t)}}},{key:"removeNamespaces",value:function e(t){var n=this.options.ns.indexOf(t);if(n>-1){this.options.ns.splice(n,1)}}},{key:"getResource",value:function e(t,n,r){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var s=i.keySeparator!==undefined?i.keySeparator:this.options.keySeparator;var a=i.ignoreJSONStructure!==undefined?i.ignoreJSONStructure:this.options.ignoreJSONStructure;var o=[t,n];if(r&&typeof r!=="string")o=o.concat(r);if(r&&typeof r==="string")o=o.concat(s?r.split(s):r);if(t.indexOf(".")>-1){o=t.split(".")}var u=Dn(this.data,o);if(u||!a||typeof r!=="string")return u;return Hn(this.data&&this.data[t]&&this.data[t][n],r,s)}},{key:"addResource",value:function e(t,n,r,i){var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{silent:false};var a=this.options.keySeparator;if(a===undefined)a=".";var o=[t,n];if(r)o=o.concat(a?r.split(a):r);if(t.indexOf(".")>-1){o=t.split(".");i=n;n=o[1]}this.addNamespaces(n);Cn(this.data,o,i);if(!s.silent)this.emit("added",t,n,r,i)}},{key:"addResources",value:function e(t,n,r){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{silent:false};for(var s in r){if(typeof r[s]==="string"||Object.prototype.toString.apply(r[s])==="[object Array]")this.addResource(t,n,s,r[s],{silent:true})}if(!i.silent)this.emit("added",t,n,r)}},{key:"addResourceBundle",value:function e(t,n,r,i,s){var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{silent:false};var o=[t,n];if(t.indexOf(".")>-1){o=t.split(".");i=r;r=n;n=o[1]}this.addNamespaces(n);var u=Dn(this.data,o)||{};if(i){Bn(u,r,s)}else{u=Jn(Jn({},u),r)}Cn(this.data,o,u);if(!a.silent)this.emit("added",t,n,r)}},{key:"removeResourceBundle",value:function e(t,n){if(this.hasResourceBundle(t,n)){delete this.data[t][n]}this.removeNamespaces(n);this.emit("removed",t,n)}},{key:"hasResourceBundle",value:function e(t,n){return this.getResource(t,n)!==undefined}},{key:"getResourceBundle",value:function e(t,n){if(!n)n=this.options.defaultNS;if(this.options.compatibilityAPI==="v1")return Jn(Jn({},{}),this.getResource(t,n));return this.getResource(t,n)}},{key:"getDataByLanguage",value:function e(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function e(t){var n=this.getDataByLanguage(t);var r=n&&Object.keys(n)||[];return!!r.find((function(e){return n[e]&&Object.keys(n[e]).length>0}))}},{key:"toJSON",value:function e(){return this.data}}]);return n}(Rn);var Xn={processors:{},addPostProcessor:function e(t){this.processors[t.name]=t},handle:function e(t,n,r,i,s){var a=this;t.forEach((function(e){if(a.processors[e])n=a.processors[e].process(n,r,i,s)}));return n}};function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e){var t=rr();return function n(){var r=gn(e),i;if(t){var s=gn(this).constructor;i=Reflect.construct(r,arguments,s)}else{i=r.apply(this,arguments)}return yn(this,i)}}function rr(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}var ir={};var sr=function(e){mn(n,e);var t=nr(n);function n(e){var r;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};fn(this,n);r=t.call(this);if(Kn){Rn.call(vn(r))}An(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,vn(r));r.options=i;if(r.options.keySeparator===undefined){r.options.keySeparator="."}r.logger=Sn.create("translator");return r}dn(n,[{key:"changeLanguage",value:function e(t){if(t)this.language=t}},{key:"exists",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};if(t===undefined||t===null){return false}var r=this.resolve(t,n);return r&&r.res!==undefined}},{key:"extractFromKey",value:function e(t,n){var r=n.nsSeparator!==undefined?n.nsSeparator:this.options.nsSeparator;if(r===undefined)r=":";var i=n.keySeparator!==undefined?n.keySeparator:this.options.keySeparator;var s=n.ns||this.options.defaultNS||[];var a=r&&t.indexOf(r)>-1;var o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Fn(t,r,i);if(a&&!o){var u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0){return{key:t,namespaces:s}}var f=t.split(r);if(r!==i||r===i&&this.options.ns.indexOf(f[0])>-1)s=f.shift();t=f.join(i)}if(typeof s==="string")s=[s];return{key:t,namespaces:s}}},{key:"translate",value:function e(t,r,i){var s=this;if(un(r)!=="object"&&this.options.overloadTranslationOptionHandler){r=this.options.overloadTranslationOptionHandler(arguments)}if(un(r)==="object")r=tr({},r);if(!r)r={};if(t===undefined||t===null)return"";if(!Array.isArray(t))t=[String(t)];var a=r.returnDetails!==undefined?r.returnDetails:this.options.returnDetails;var o=r.keySeparator!==undefined?r.keySeparator:this.options.keySeparator;var u=this.extractFromKey(t[t.length-1],r),f=u.key,c=u.namespaces;var l=c[c.length-1];var h=r.lng||this.language;var d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(d){var v=r.nsSeparator||this.options.nsSeparator;if(a){return{res:"".concat(l).concat(v).concat(f),usedKey:f,exactUsedKey:f,usedLng:h,usedNS:l}}return"".concat(l).concat(v).concat(f)}if(a){return{res:f,usedKey:f,exactUsedKey:f,usedLng:h,usedNS:l}}return f}var p=this.resolve(t,r);var m=p&&p.res;var y=p&&p.usedKey||f;var g=p&&p.exactUsedKey||f;var b=Object.prototype.toString.apply(m);var w=["[object Number]","[object Function]","[object RegExp]"];var k=r.joinArrays!==undefined?r.joinArrays:this.options.joinArrays;var x=!this.i18nFormat||this.i18nFormat.handleAsObject;var j=typeof m!=="string"&&typeof m!=="boolean"&&typeof m!=="number";if(x&&m&&j&&w.indexOf(b)<0&&!(typeof k==="string"&&b==="[object Array]")){if(!r.returnObjects&&!this.options.returnObjects){if(!this.options.returnedObjectHandler){this.logger.warn("accessing an object - but returnObjects options is not enabled!")}var O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,m,tr(tr({},r),{},{ns:c})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");if(a){p.res=O;return p}return O}if(o){var N=b==="[object Array]";var E=N?[]:{};var T=N?g:y;for(var _ in m){if(Object.prototype.hasOwnProperty.call(m,_)){var P="".concat(T).concat(o).concat(_);E[_]=this.translate(P,tr(tr({},r),{joinArrays:false,ns:c}));if(E[_]===P)E[_]=m[_]}}m=E}}else if(x&&typeof k==="string"&&b==="[object Array]"){m=m.join(k);if(m)m=this.extendTranslation(m,t,r,i)}else{var S=false;var R=false;var Z=r.count!==undefined&&typeof r.count!=="string";var I=n.hasDefaultValue(r);var A=Z?this.pluralResolver.getSuffix(h,r.count,r):"";var $=r["defaultValue".concat(A)]||r.defaultValue;if(!this.isValidLookup(m)&&I){S=true;m=$}if(!this.isValidLookup(m)){R=true;m=f}var C=r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey;var L=C&&R?undefined:m;var D=I&&$!==m&&this.options.updateMissing;if(R||S||D){this.logger.log(D?"updateKey":"missingKey",h,l,f,D?$:m);if(o){var M=this.resolve(f,tr(tr({},r),{},{keySeparator:false}));if(M&&M.res)this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var B=[];var q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&q&&q[0]){for(var U=0;U<q.length;U++){B.push(q[U])}}else if(this.options.saveMissingTo==="all"){B=this.languageUtils.toResolveHierarchy(r.lng||this.language)}else{B.push(r.lng||this.language)}var z=function e(t,n,i){var a=I&&i!==m?i:L;if(s.options.missingKeyHandler){s.options.missingKeyHandler(t,l,n,a,D,r)}else if(s.backendConnector&&s.backendConnector.saveMissing){s.backendConnector.saveMissing(t,l,n,a,D,r)}s.emit("missingKey",t,l,n,m)};if(this.options.saveMissing){if(this.options.saveMissingPlurals&&Z){B.forEach((function(e){s.pluralResolver.getSuffixes(e,r).forEach((function(t){z([e],f+t,r["defaultValue".concat(t)]||$)}))}))}else{z(B,f,$)}}}m=this.extendTranslation(m,t,r,p,i);if(R&&m===f&&this.options.appendNamespaceToMissingKey)m="".concat(l,":").concat(f);if((R||S)&&this.options.parseMissingKeyHandler){if(this.options.compatibilityAPI!=="v1"){m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(f):f,S?m:undefined)}else{m=this.options.parseMissingKeyHandler(m)}}}if(a){p.res=m;return p}return m}},{key:"extendTranslation",value:function e(t,n,r,i,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse){t=this.i18nFormat.parse(t,tr(tr({},this.options.interpolation.defaultVariables),r),i.usedLng,i.usedNS,i.usedKey,{resolved:i})}else if(!r.skipInterpolation){if(r.interpolation)this.interpolator.init(tr(tr({},r),{interpolation:tr(tr({},this.options.interpolation),r.interpolation)}));var o=typeof t==="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==undefined?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);var u;if(o){var f=t.match(this.interpolator.nestingRegexp);u=f&&f.length}var c=r.replace&&typeof r.replace!=="string"?r.replace:r;if(this.options.interpolation.defaultVariables)c=tr(tr({},this.options.interpolation.defaultVariables),c);t=this.interpolator.interpolate(t,c,r.lng||this.language,r);if(o){var l=t.match(this.interpolator.nestingRegexp);var h=l&&l.length;if(u<h)r.nest=false}if(!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res)r.lng=i.usedLng;if(r.nest!==false)t=this.interpolator.nest(t,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++){t[i]=arguments[i]}if(s&&s[0]===t[0]&&!r.context){a.logger.warn("It seems you are nesting recursively key: ".concat(t[0]," in key: ").concat(n[0]));return null}return a.translate.apply(a,t.concat([n]))}),r);if(r.interpolation)this.interpolator.reset()}var d=r.postProcess||this.options.postProcess;var v=typeof d==="string"?[d]:d;if(t!==undefined&&t!==null&&v&&v.length&&r.applyPostProcessor!==false){t=Xn.handle(v,t,n,this.options&&this.options.postProcessPassResolved?tr({i18nResolved:i},r):r,this)}return t}},{key:"resolve",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i;var s;var a;var o;var u;if(typeof t==="string")t=[t];t.forEach((function(e){if(n.isValidLookup(i))return;var t=n.extractFromKey(e,r);var f=t.key;s=f;var c=t.namespaces;if(n.options.fallbackNS)c=c.concat(n.options.fallbackNS);var l=r.count!==undefined&&typeof r.count!=="string";var h=l&&!r.ordinal&&r.count===0&&n.pluralResolver.shouldUseIntlApi();var d=r.context!==undefined&&(typeof r.context==="string"||typeof r.context==="number")&&r.context!=="";var v=r.lngs?r.lngs:n.languageUtils.toResolveHierarchy(r.lng||n.language,r.fallbackLng);c.forEach((function(e){if(n.isValidLookup(i))return;u=e;if(!ir["".concat(v[0],"-").concat(e)]&&n.utils&&n.utils.hasLoadedNamespace&&!n.utils.hasLoadedNamespace(u)){ir["".concat(v[0],"-").concat(e)]=true;n.logger.warn('key "'.concat(s,'" for languages "').concat(v.join(", "),'" won\'t get resolved as namespace "').concat(u,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}v.forEach((function(t){if(n.isValidLookup(i))return;o=t;var s=[f];if(n.i18nFormat&&n.i18nFormat.addLookupKeys){n.i18nFormat.addLookupKeys(s,f,t,e,r)}else{var u;if(l)u=n.pluralResolver.getSuffix(t,r.count,r);var c="".concat(n.options.pluralSeparator,"zero");if(l){s.push(f+u);if(h){s.push(f+c)}}if(d){var v="".concat(f).concat(n.options.contextSeparator).concat(r.context);s.push(v);if(l){s.push(v+u);if(h){s.push(v+c)}}}}var p;while(p=s.pop()){if(!n.isValidLookup(i)){a=p;i=n.getResource(t,e,p,r)}}}))}))}));return{res:i,usedKey:s,exactUsedKey:a,usedLng:o,usedNS:u}}},{key:"isValidLookup",value:function e(t){return t!==undefined&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}},{key:"getResource",value:function e(t,n,r){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(this.i18nFormat&&this.i18nFormat.getResource)return this.i18nFormat.getResource(t,n,r,i);return this.resourceStore.getResource(t,n,r,i)}}],[{key:"hasDefaultValue",value:function e(t){var n="defaultValue";for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&undefined!==t[r]){return true}}return false}}]);return n}(Rn);function ar(e){return e.charAt(0).toUpperCase()+e.slice(1)}var or=function(){function e(t){fn(this,e);this.options=t;this.supportedLngs=this.options.supportedLngs||false;this.logger=Sn.create("languageUtils")}dn(e,[{key:"getScriptPartFromCode",value:function e(t){if(!t||t.indexOf("-")<0)return null;var n=t.split("-");if(n.length===2)return null;n.pop();if(n[n.length-1].toLowerCase()==="x")return null;return this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function e(t){if(!t||t.indexOf("-")<0)return t;var n=t.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function e(t){if(typeof t==="string"&&t.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"];var r=t.split("-");if(this.options.lowerCaseLng){r=r.map((function(e){return e.toLowerCase()}))}else if(r.length===2){r[0]=r[0].toLowerCase();r[1]=r[1].toUpperCase();if(n.indexOf(r[1].toLowerCase())>-1)r[1]=ar(r[1].toLowerCase())}else if(r.length===3){r[0]=r[0].toLowerCase();if(r[1].length===2)r[1]=r[1].toUpperCase();if(r[0]!=="sgn"&&r[2].length===2)r[2]=r[2].toUpperCase();if(n.indexOf(r[1].toLowerCase())>-1)r[1]=ar(r[1].toLowerCase());if(n.indexOf(r[2].toLowerCase())>-1)r[2]=ar(r[2].toLowerCase())}return r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function e(t){if(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs){t=this.getLanguagePartFromCode(t)}return!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function e(t){var n=this;if(!t)return null;var r;t.forEach((function(e){if(r)return;var t=n.formatLanguageCode(e);if(!n.options.supportedLngs||n.isSupportedCode(t))r=t}));if(!r&&this.options.supportedLngs){t.forEach((function(e){if(r)return;var t=n.getLanguagePartFromCode(e);if(n.isSupportedCode(t))return r=t;r=n.options.supportedLngs.find((function(e){if(e===t)return e;if(e.indexOf("-")<0&&t.indexOf("-")<0)return;if(e.indexOf(t)===0)return e}))}))}if(!r)r=this.getFallbackCodes(this.options.fallbackLng)[0];return r}},{key:"getFallbackCodes",value:function e(t,n){if(!t)return[];if(typeof t==="function")t=t(n);if(typeof t==="string")t=[t];if(Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t["default"]||[];var r=t[n];if(!r)r=t[this.getScriptPartFromCode(n)];if(!r)r=t[this.formatLanguageCode(n)];if(!r)r=t[this.getLanguagePartFromCode(n)];if(!r)r=t["default"];return r||[]}},{key:"toResolveHierarchy",value:function e(t,n){var r=this;var i=this.getFallbackCodes(n||this.options.fallbackLng||[],t);var s=[];var a=function e(t){if(!t)return;if(r.isSupportedCode(t)){s.push(t)}else{r.logger.warn("rejecting language code not found in supportedLngs: ".concat(t))}};if(typeof t==="string"&&t.indexOf("-")>-1){if(this.options.load!=="languageOnly")a(this.formatLanguageCode(t));if(this.options.load!=="languageOnly"&&this.options.load!=="currentOnly")a(this.getScriptPartFromCode(t));if(this.options.load!=="currentOnly")a(this.getLanguagePartFromCode(t))}else if(typeof t==="string"){a(this.formatLanguageCode(t))}i.forEach((function(e){if(s.indexOf(e)<0)a(r.formatLanguageCode(e))}));return s}}]);return e}();var ur=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}];var fr={1:function e(t){return Number(t>1)},2:function e(t){return Number(t!=1)},3:function e(t){return 0},4:function e(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function e(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function e(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function e(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function e(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function e(t){return Number(t>=2)},10:function e(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function e(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function e(t){return Number(t%10!=1||t%100==11)},13:function e(t){return Number(t!==0)},14:function e(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function e(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function e(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function e(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function e(t){return Number(t==0?0:t==1?1:2)},19:function e(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function e(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function e(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function e(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}};var cr=["v1","v2","v3"];var lr={zero:0,one:1,two:2,few:3,many:4,other:5};function hr(){var e={};ur.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:fr[t.fc]}}))}));return e}var dr=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};fn(this,e);this.languageUtils=t;this.options=n;this.logger=Sn.create("pluralResolver");if((!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl==="undefined"||!Intl.PluralRules)){this.options.compatibilityJSON="v3";this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")}this.rules=hr()}dn(e,[{key:"addRule",value:function e(t,n){this.rules[t]=n}},{key:"getRule",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.shouldUseIntlApi()){try{return new Intl.PluralRules(t,{type:n.ordinal?"ordinal":"cardinal"})}catch(e){return}}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=this.getRule(t,n);if(this.shouldUseIntlApi()){return r&&r.resolvedOptions().pluralCategories.length>1}return r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.getSuffixes(t,r).map((function(e){return"".concat(n).concat(e)}))}},{key:"getSuffixes",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=this.getRule(t,r);if(!i){return[]}if(this.shouldUseIntlApi()){return i.resolvedOptions().pluralCategories.sort((function(e,t){return lr[e]-lr[t]})).map((function(e){return"".concat(n.options.prepend).concat(e)}))}return i.numbers.map((function(e){return n.getSuffix(t,e,r)}))}},{key:"getSuffix",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=this.getRule(t,r);if(i){if(this.shouldUseIntlApi()){return"".concat(this.options.prepend).concat(i.select(n))}return this.getSuffixRetroCompatible(i,n)}this.logger.warn("no plural rule found for: ".concat(t));return""}},{key:"getSuffixRetroCompatible",value:function e(t,n){var r=this;var i=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));var s=t.numbers[i];if(this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1){if(s===2){s="plural"}else if(s===1){s=""}}var a=function e(){return r.options.prepend&&s.toString()?r.options.prepend+s.toString():s.toString()};if(this.options.compatibilityJSON==="v1"){if(s===1)return"";if(typeof s==="number")return"_plural_".concat(s.toString());return a()}else if(this.options.compatibilityJSON==="v2"){return a()}else if(this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1){return a()}return this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function e(){return!cr.includes(this.options.compatibilityJSON)}}]);return e}();function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mr(e,t,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:".";var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var s=Mn(e,t,n);if(!s&&i&&typeof n==="string"){s=Hn(e,n,r);if(s===undefined)s=Hn(t,n,r)}return s}var yr=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};fn(this,e);this.logger=Sn.create("interpolator");this.options=t;this.format=t.interpolation&&t.interpolation.format||function(e){return e};this.init(t)}dn(e,[{key:"init",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!t.interpolation)t.interpolation={escapeValue:true};var n=t.interpolation;this.escape=n.escape!==undefined?n.escape:zn;this.escapeValue=n.escapeValue!==undefined?n.escapeValue:true;this.useRawValueToEscape=n.useRawValueToEscape!==undefined?n.useRawValueToEscape:false;this.prefix=n.prefix?qn(n.prefix):n.prefixEscaped||"{{";this.suffix=n.suffix?qn(n.suffix):n.suffixEscaped||"}}";this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",";this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-";this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"";this.nestingPrefix=n.nestingPrefix?qn(n.nestingPrefix):n.nestingPrefixEscaped||qn("$t(");this.nestingSuffix=n.nestingSuffix?qn(n.nestingSuffix):n.nestingSuffixEscaped||qn(")");this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",";this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3;this.alwaysFormat=n.alwaysFormat!==undefined?n.alwaysFormat:false;this.resetRegExp()}},{key:"reset",value:function e(){if(this.options)this.init(this.options)}},{key:"resetRegExp",value:function e(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function e(t,n,r,i){var s=this;var a;var o;var u;var f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function e(t){if(t.indexOf(s.formatSeparator)<0){var a=mr(n,f,t,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(a,undefined,r,pr(pr(pr({},i),n),{},{interpolationkey:t})):a}var o=t.split(s.formatSeparator);var u=o.shift().trim();var c=o.join(s.formatSeparator).trim();return s.format(mr(n,f,u,s.options.keySeparator,s.options.ignoreJSONStructure),c,r,pr(pr(pr({},i),n),{},{interpolationkey:u}))};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler;var d=i&&i.interpolation&&i.interpolation.skipOnVariables!==undefined?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;var v=[{regex:this.regexpUnescape,safeValue:function e(t){return c(t)}},{regex:this.regexp,safeValue:function e(t){return s.escapeValue?c(s.escape(t)):c(t)}}];v.forEach((function(e){u=0;while(a=e.regex.exec(t)){var n=a[1].trim();o=l(n);if(o===undefined){if(typeof h==="function"){var r=h(t,a,i);o=typeof r==="string"?r:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n)){o=""}else if(d){o=a[0];continue}else{s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(t));o=""}}else if(typeof o!=="string"&&!s.useRawValueToEscape){o=In(o)}var f=e.safeValue(o);t=t.replace(a[0],f);if(d){e.regex.lastIndex+=o.length;e.regex.lastIndex-=a[0].length}else{e.regex.lastIndex=0}u++;if(u>=s.maxReplaces){break}}}));return t}},{key:"nest",value:function e(t,n){var r=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var s;var a;var o;function u(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{")));var i="{".concat(r[1]);e=r[0];i=this.interpolate(i,o);var s=i.match(/'/g);var a=i.match(/"/g);if(s&&s.length%2===0&&!a||a.length%2!==0){i=i.replace(/'/g,'"')}try{o=JSON.parse(i);if(t)o=pr(pr({},t),o)}catch(t){this.logger.warn("failed parsing options string in nesting for key ".concat(e),t);return"".concat(e).concat(n).concat(i)}delete o.defaultValue;return e}while(s=this.nestingRegexp.exec(t)){var f=[];o=pr({},i);o=o.replace&&typeof o.replace!=="string"?o.replace:o;o.applyPostProcessor=false;delete o.defaultValue;var c=false;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){var l=s[1].split(this.formatSeparator).map((function(e){return e.trim()}));s[1]=l.shift();f=l;c=true}a=n(u.call(this,s[1].trim(),o),o);if(a&&s[0]===t&&typeof a!=="string")return a;if(typeof a!=="string")a=In(a);if(!a){this.logger.warn("missed to resolve ".concat(s[1]," for nesting ").concat(t));a=""}if(c){a=f.reduce((function(e,t){return r.format(e,t,i.lng,pr(pr({},i),{},{interpolationkey:s[1].trim()}))}),a.trim())}t=t.replace(s[0],a);this.regexp.lastIndex=0}return t}}]);return e}();function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(e){var t=e.toLowerCase().trim();var n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(t==="currency"&&i.indexOf(":")<0){if(!n.currency)n.currency=i.trim()}else if(t==="relativetime"&&i.indexOf(":")<0){if(!n.range)n.range=i.trim()}else{var s=i.split(";");s.forEach((function(e){if(!e)return;var t=e.split(":"),r=Nn(t),i=r[0],s=r.slice(1);var a=s.join(":").trim().replace(/^'+|'+$/g,"");if(!n[i.trim()])n[i.trim()]=a;if(a==="false")n[i.trim()]=false;if(a==="true")n[i.trim()]=true;if(!isNaN(a))n[i.trim()]=parseInt(a,10)}))}}return{formatName:t,formatOptions:n}}function kr(e){var t={};return function n(r,i,s){var a=i+JSON.stringify(s);var o=t[a];if(!o){o=e(i,s);t[a]=o}return o(r)}}var xr=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};fn(this,e);this.logger=Sn.create("formatter");this.options=t;this.formats={number:kr((function(e,t){var n=new Intl.NumberFormat(e,br({},t));return function(e){return n.format(e)}})),currency:kr((function(e,t){var n=new Intl.NumberFormat(e,br(br({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:kr((function(e,t){var n=new Intl.DateTimeFormat(e,br({},t));return function(e){return n.format(e)}})),relativetime:kr((function(e,t){var n=new Intl.RelativeTimeFormat(e,br({},t));return function(e){return n.format(e,t.range||"day")}})),list:kr((function(e,t){var n=new Intl.ListFormat(e,br({},t));return function(e){return n.format(e)}}))};this.init(t)}dn(e,[{key:"init",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};var r=n.interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}},{key:"add",value:function e(t,n){this.formats[t.toLowerCase().trim()]=n}},{key:"addCached",value:function e(t,n){this.formats[t.toLowerCase().trim()]=kr(n)}},{key:"format",value:function e(t,n,r){var i=this;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var a=n.split(this.formatSeparator);var o=a.reduce((function(e,t){var n=wr(t),a=n.formatName,o=n.formatOptions;if(i.formats[a]){var u=e;try{var f=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{};var c=f.locale||f.lng||s.locale||s.lng||r;u=i.formats[a](e,c,br(br(br({},o),s),f))}catch(e){i.logger.warn(e)}return u}else{i.logger.warn("there was no format function for ".concat(a))}return e}),t);return o}}]);return e}();function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nr(e){var t=Er();return function n(){var r=gn(e),i;if(t){var s=gn(this).constructor;i=Reflect.construct(r,arguments,s)}else{i=r.apply(this,arguments)}return yn(this,i)}}function Er(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function Tr(e,t){if(e.pending[t]!==undefined){delete e.pending[t];e.pendingCount--}}var _r=function(e){mn(n,e);var t=Nr(n);function n(e,r,i){var s;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};fn(this,n);s=t.call(this);if(Kn){Rn.call(vn(s))}s.backend=e;s.store=r;s.services=i;s.languageUtils=i.languageUtils;s.options=a;s.logger=Sn.create("backendConnector");s.waitingReads=[];s.maxParallelReads=a.maxParallelReads||10;s.readingCalls=0;s.maxRetries=a.maxRetries>=0?a.maxRetries:5;s.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350;s.state={};s.queue=[];if(s.backend&&s.backend.init){s.backend.init(i,a.backend,a)}return s}dn(n,[{key:"queueLoad",value:function e(t,n,r,i){var s=this;var a={};var o={};var u={};var f={};t.forEach((function(e){var t=true;n.forEach((function(n){var i="".concat(e,"|").concat(n);if(!r.reload&&s.store.hasResourceBundle(e,n)){s.state[i]=2}else if(s.state[i]<0);else if(s.state[i]===1){if(o[i]===undefined)o[i]=true}else{s.state[i]=1;t=false;if(o[i]===undefined)o[i]=true;if(a[i]===undefined)a[i]=true;if(f[n]===undefined)f[n]=true}}));if(!t)u[e]=true}));if(Object.keys(a).length||Object.keys(o).length){this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i})}return{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(f)}}},{key:"loaded",value:function e(t,n,r){var i=t.split("|");var s=i[0];var a=i[1];if(n)this.emit("failedLoading",s,a,n);if(r){this.store.addResourceBundle(s,a,r)}this.state[t]=n?-1:2;var e={};this.queue.forEach((function(r){Ln(r.loaded,[s],a);Tr(r,t);if(n)r.errors.push(n);if(r.pendingCount===0&&!r.done){Object.keys(r.loaded).forEach((function(t){if(!e[t])e[t]={};var n=r.loaded[t];if(n.length){n.forEach((function(n){if(e[t][n]===undefined)e[t][n]=true}))}}));r.done=true;if(r.errors.length){r.callback(r.errors)}else{r.callback()}}}));this.emit("loaded",e);this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function e(t,n,r){var i=this;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:this.retryTimeout;var o=arguments.length>5?arguments[5]:undefined;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:a,callback:o});return}this.readingCalls++;var u=function e(u,f){i.readingCalls--;if(i.waitingReads.length>0){var c=i.waitingReads.shift();i.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(u&&f&&s<i.maxRetries){setTimeout((function(){i.read.call(i,t,n,r,s+1,a*2,o)}),a);return}o(u,f)};var f=this.backend[r].bind(this.backend);if(f.length===2){try{var c=f(t,n);if(c&&typeof c.then==="function"){c.then((function(e){return u(null,e)}))["catch"](u)}else{u(null,c)}}catch(e){u(e)}return}return f(t,n,u)}},{key:"prepareLoading",value:function e(t,n){var r=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var s=arguments.length>3?arguments[3]:undefined;if(!this.backend){this.logger.warn("No backend was added via i18next.use. Will not load resources.");return s&&s()}if(typeof t==="string")t=this.languageUtils.toResolveHierarchy(t);if(typeof n==="string")n=[n];var a=this.queueLoad(t,n,i,s);if(!a.toLoad.length){if(!a.pending.length)s();return null}a.toLoad.forEach((function(e){r.loadOne(e)}))}},{key:"load",value:function e(t,n,r){this.prepareLoading(t,n,{},r)}},{key:"reload",value:function e(t,n,r){this.prepareLoading(t,n,{reload:true},r)}},{key:"loadOne",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=t.split("|");var s=i[0];var a=i[1];this.read(s,a,"read",undefined,undefined,(function(e,i){if(e)n.logger.warn("".concat(r,"loading namespace ").concat(a," for language ").concat(s," failed"),e);if(!e&&i)n.logger.log("".concat(r,"loaded namespace ").concat(a," for language ").concat(s),i);n.loaded(t,e,i)}))}},{key:"saveMissing",value:function e(t,n,r,i,s){var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};var o=arguments.length>6&&arguments[6]!==undefined?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(r===undefined||r===null||r==="")return;if(this.backend&&this.backend.create){var u=Or(Or({},a),{},{isUpdate:s});var f=this.backend.create.bind(this.backend);if(f.length<6){try{var c;if(f.length===5){c=f(t,n,r,i,u)}else{c=f(t,n,r,i)}if(c&&typeof c.then==="function"){c.then((function(e){return o(null,e)}))["catch"](o)}else{o(null,c)}}catch(e){o(e)}}else{f(t,n,r,i,o,u)}}if(!t||!t[0])return;this.store.addResource(t[0],n,r,i)}}]);return n}(Rn);function Pr(){return{debug:false,initImmediate:true,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:false,supportedLngs:false,nonExplicitSupportedLngs:false,load:"all",preload:false,simplifyPluralSuffix:true,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:false,saveMissing:false,updateMissing:false,saveMissingTo:"fallback",saveMissingPlurals:true,missingKeyHandler:false,missingInterpolationHandler:false,postProcess:false,postProcessPassResolved:false,returnNull:true,returnEmptyString:true,returnObjects:false,joinArrays:false,returnedObjectHandler:false,parseMissingKeyHandler:false,appendNamespaceToMissingKey:false,appendNamespaceToCIMode:false,overloadTranslationOptionHandler:function e(t){var n={};if(un(t[1])==="object")n=t[1];if(typeof t[1]==="string")n.defaultValue=t[1];if(typeof t[2]==="string")n.tDescription=t[2];if(un(t[2])==="object"||un(t[3])==="object"){var r=t[3]||t[2];Object.keys(r).forEach((function(e){n[e]=r[e]}))}return n},interpolation:{escapeValue:true,format:function e(t,n,r,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:true}}}function Sr(e){if(typeof e.ns==="string")e.ns=[e.ns];if(typeof e.fallbackLng==="string")e.fallbackLng=[e.fallbackLng];if(typeof e.fallbackNS==="string")e.fallbackNS=[e.fallbackNS];if(e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0){e.supportedLngs=e.supportedLngs.concat(["cimode"])}return e}function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ir(e){var t=Ar();return function n(){var r=gn(e),i;if(t){var s=gn(this).constructor;i=Reflect.construct(r,arguments,s)}else{i=r.apply(this,arguments)}return yn(this,i)}}function Ar(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function $r(){}function Cr(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach((function(t){if(typeof e[t]==="function"){e[t]=e[t].bind(e)}}))}var Lr=function(e){mn(n,e);var t=Ir(n);function n(){var e;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=arguments.length>1?arguments[1]:undefined;fn(this,n);e=t.call(this);if(Kn){Rn.call(vn(e))}e.options=Sr(r);e.services={};e.logger=Sn;e.modules={external:[]};Cr(vn(e));if(i&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate){e.init(r,i);return yn(e,vn(e))}setTimeout((function(){e.init(r,i)}),0)}return e}dn(n,[{key:"init",value:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments.length>1?arguments[1]:undefined;if(typeof n==="function"){r=n;n={}}if(!n.defaultNS&&n.defaultNS!==false&&n.ns){if(typeof n.ns==="string"){n.defaultNS=n.ns}else if(n.ns.indexOf("translation")<0){n.defaultNS=n.ns[0]}}var i=Pr();this.options=Zr(Zr(Zr({},i),this.options),Sr(n));if(this.options.compatibilityAPI!=="v1"){this.options.interpolation=Zr(Zr({},i.interpolation),this.options.interpolation)}if(n.keySeparator!==undefined){this.options.userDefinedKeySeparator=n.keySeparator}if(n.nsSeparator!==undefined){this.options.userDefinedNsSeparator=n.nsSeparator}function s(e){if(!e)return null;if(typeof e==="function")return new e;return e}if(!this.options.isClone){if(this.modules.logger){Sn.init(s(this.modules.logger),this.options)}else{Sn.init(null,this.options)}var a;if(this.modules.formatter){a=this.modules.formatter}else if(typeof Intl!=="undefined"){a=xr}var o=new or(this.options);this.store=new Qn(this.options.resources,this.options);var u=this.services;u.logger=Sn;u.resourceStore=this.store;u.languageUtils=o;u.pluralResolver=new dr(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix});if(a&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)){u.formatter=s(a);u.formatter.init(u,this.options);this.options.interpolation.format=u.formatter.format.bind(u.formatter)}u.interpolator=new yr(this.options);u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)};u.backendConnector=new _r(s(this.modules.backend),u.resourceStore,u,this.options);u.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}t.emit.apply(t,[e].concat(r))}));if(this.modules.languageDetector){u.languageDetector=s(this.modules.languageDetector);if(u.languageDetector.init)u.languageDetector.init(u,this.options.detection,this.options)}if(this.modules.i18nFormat){u.i18nFormat=s(this.modules.i18nFormat);if(u.i18nFormat.init)u.i18nFormat.init(this)}this.translator=new sr(this.services,this.options);this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}t.emit.apply(t,[e].concat(r))}));this.modules.external.forEach((function(e){if(e.init)e.init(t)}))}this.format=this.options.interpolation.format;if(!r)r=$r;if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);if(f.length>0&&f[0]!=="dev")this.options.lng=f[0]}if(!this.services.languageDetector&&!this.options.lng){this.logger.warn("init: no languageDetector is used and no lng is defined")}var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(e){t[e]=function(){var n;(n=t.store)[e].apply(n,arguments);return t}}));var h=Zn();var d=function e(){var n=function e(n,i){if(t.isInitialized&&!t.initializedStoreOnce)t.logger.warn("init: i18next is already initialized. You should call init just once!");t.isInitialized=true;if(!t.options.isClone)t.logger.log("initialized",t.options);t.emit("initialized",t.options);h.resolve(i);r(n,i)};if(t.languages&&t.options.compatibilityAPI!=="v1"&&!t.isInitialized)return n(null,t.t.bind(t));t.changeLanguage(t.options.lng,n)};if(this.options.resources||!this.options.initImmediate){d()}else{setTimeout(d,0)}return h}},{key:"loadResources",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:$r;var i=r;var s=typeof t==="string"?t:this.language;if(typeof t==="function")i=t;if(!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode")return i();var a=[];var o=function e(t){if(!t)return;var r=n.services.languageUtils.toResolveHierarchy(t);r.forEach((function(e){if(a.indexOf(e)<0)a.push(e)}))};if(!s){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.forEach((function(e){return o(e)}))}else{o(s)}if(this.options.preload){this.options.preload.forEach((function(e){return o(e)}))}this.services.backendConnector.load(a,this.options.ns,(function(e){if(!e&&!n.resolvedLanguage&&n.language)n.setResolvedLanguage(n.language);i(e)}))}else{i(null)}}},{key:"reloadResources",value:function e(t,n,r){var i=Zn();if(!t)t=this.languages;if(!n)n=this.options.ns;if(!r)r=$r;this.services.backendConnector.reload(t,n,(function(e){i.resolve();r(e)}));return i}},{key:"use",value:function e(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");if(t.type==="backend"){this.modules.backend=t}if(t.type==="logger"||t.log&&t.warn&&t.error){this.modules.logger=t}if(t.type==="languageDetector"){this.modules.languageDetector=t}if(t.type==="i18nFormat"){this.modules.i18nFormat=t}if(t.type==="postProcessor"){Xn.addPostProcessor(t)}if(t.type==="formatter"){this.modules.formatter=t}if(t.type==="3rdParty"){this.modules.external.push(t)}return this}},{key:"setResolvedLanguage",value:function e(t){if(!t||!this.languages)return;if(["cimode","dev"].indexOf(t)>-1)return;for(var n=0;n<this.languages.length;n++){var r=this.languages[n];if(["cimode","dev"].indexOf(r)>-1)continue;if(this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}},{key:"changeLanguage",value:function e(t,n){var r=this;this.isLanguageChangingTo=t;var i=Zn();this.emit("languageChanging",t);var s=function e(t){r.language=t;r.languages=r.services.languageUtils.toResolveHierarchy(t);r.resolvedLanguage=undefined;r.setResolvedLanguage(t)};var a=function e(t,a){if(a){s(a);r.translator.changeLanguage(a);r.isLanguageChangingTo=undefined;r.emit("languageChanged",a);r.logger.log("languageChanged",a)}else{r.isLanguageChangingTo=undefined}i.resolve((function(){return r.t.apply(r,arguments)}));if(n)n(t,(function(){return r.t.apply(r,arguments)}))};var o=function e(n){if(!t&&!n&&r.services.languageDetector)n=[];var i=typeof n==="string"?n:r.services.languageUtils.getBestMatchFromCodes(n);if(i){if(!r.language){s(i)}if(!r.translator.language)r.translator.changeLanguage(i);if(r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage)r.services.languageDetector.cacheUserLanguage(i)}r.loadResources(i,(function(e){a(e,i)}))};if(!t&&this.services.languageDetector&&!this.services.languageDetector.async){o(this.services.languageDetector.detect())}else if(!t&&this.services.languageDetector&&this.services.languageDetector.async){if(this.services.languageDetector.detect.length===0){this.services.languageDetector.detect().then(o)}else{this.services.languageDetector.detect(o)}}else{o(t)}return i}},{key:"getFixedT",value:function e(t,n,r){var i=this;var s=function e(t,n){var s;if(un(n)!=="object"){for(var a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++){o[u-2]=arguments[u]}s=i.options.overloadTranslationOptionHandler([t,n].concat(o))}else{s=Zr({},n)}s.lng=s.lng||e.lng;s.lngs=s.lngs||e.lngs;s.ns=s.ns||e.ns;s.keyPrefix=s.keyPrefix||r||e.keyPrefix;var f=i.options.keySeparator||".";var c;if(s.keyPrefix&&Array.isArray(t)){c=t.map((function(e){return"".concat(s.keyPrefix).concat(f).concat(e)}))}else{c=s.keyPrefix?"".concat(s.keyPrefix).concat(f).concat(t):t}return i.t(c,s)};if(typeof t==="string"){s.lng=t}else{s.lngs=t}s.ns=n;s.keyPrefix=r;return s}},{key:"t",value:function e(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function e(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function e(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!this.isInitialized){this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages);return false}if(!this.languages||!this.languages.length){this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages);return false}var i=r.lng||this.resolvedLanguage||this.languages[0];var s=this.options?this.options.fallbackLng:false;var a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return true;var o=function e(t,r){var i=n.services.backendConnector.state["".concat(t,"|").concat(r)];return i===-1||i===2};if(r.precheck){var u=r.precheck(this,o);if(u!==undefined)return u}if(this.hasResourceBundle(i,t))return true;if(!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages)return true;if(o(i,t)&&(!s||o(a,t)))return true;return false}},{key:"loadNamespaces",value:function e(t,n){var r=this;var i=Zn();if(!this.options.ns){if(n)n();return Promise.resolve()}if(typeof t==="string")t=[t];t.forEach((function(e){if(r.options.ns.indexOf(e)<0)r.options.ns.push(e)}));this.loadResources((function(e){i.resolve();if(n)n(e)}));return i}},{key:"loadLanguages",value:function e(t,n){var r=Zn();if(typeof t==="string")t=[t];var i=this.options.preload||[];var s=t.filter((function(e){return i.indexOf(e)<0}));if(!s.length){if(n)n();return Promise.resolve()}this.options.preload=i.concat(s);this.loadResources((function(e){r.resolve();if(n)n(e)}));return r}},{key:"dir",value:function e(t){if(!t)t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language);if(!t)return"rtl";var n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];var r=this.services&&this.services.languageUtils||new or(Pr());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:$r;var s=Zr(Zr(Zr({},this.options),r),{isClone:true});var a=new n(s);if(r.debug!==undefined||r.prefix!==undefined){a.logger=a.logger.clone(r)}var o=["store","services","language"];o.forEach((function(e){a[e]=t[e]}));a.services=Zr({},this.services);a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)};a.translator=new sr(a.services,a.options);a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}a.emit.apply(a,[e].concat(n))}));a.init(s,i);a.translator.options=a.options;a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)};return a}},{key:"toJSON",value:function e(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]);return n}(Rn);bn(Lr,"createInstance",(function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1?arguments[1]:undefined;return new Lr(e,t)}));var Dr=Lr.createInstance();Dr.createInstance=Lr.createInstance;const{state:Mr,reset:Br}=on({givenName:"",familyName:"",phone:"",streetAddress:"",streetAddress2:"",city:"",postalCode:"",country:"SE",careOf:"",comment:"",greeting:"",method:null,organizationName:"",type:"personal",email:""});const{state:qr,reset:Ur}=on({method:"",city:"",country:"SE",email:"",organizationName:"",organizationRegistrationId:"",postalCode:"",invoiceType:"PDF",message:""});const{state:zr,reset:Kr}=on({products:[],selectedProducts:[],order:{},isDeliveryValid:false,isBillingValid:false,hasError:false,errors:null,error:undefined,preselectedProduct:null,language:Dr.language?Dr.language:"en",billingFormErrors:{},deliveryFormErrors:{}});function Vr(){Kr();Br();Ur()}class Fr{async init(e){if(!e.trim().length){throw new Error("Widget key cannot be empty")}if(!this.charmaAPI){this.charmaAPI=Hr}await this.charmaAPI.init(e)}setAPIBaseUrl(e){Hr.setBaseUrl(e)}setDeliveryData(e){const t=Ft.safeParse(e);if(!t.success){throw new Error("Invalid delivery data")}Object.assign(Mr,t.data)}show(e){let t;if(e){const n=Yt.safeParse(e);if(!n.success){throw new Error("Invalid widget data! You must pass valid delivery or billing data.")}if(Object.keys(n.data).length){t=n.data}if(n.data.productId){zr.preselectedProduct=n.data.productId}}const n=new CustomEvent("charma-widget-open",{bubbles:true,detail:t});document.body.dispatchEvent(n)}close(){const e=new CustomEvent("charma-widget-close",{bubbles:true});document.body.dispatchEvent(e)}}const Hr=new Gt;const Wr=new Fr;export{dn as _,fn as a,zr as b,Hr as c,Mr as d,qr as e,Ht as f,Ft as g,Dr as i,Vr as r,Wr as w,zt as z};
//# sourceMappingURL=p-d4db4849.js.map